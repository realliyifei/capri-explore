# Deep Learning on Knowledge Graph for Recommender System: A Survey

CorpusID: 214743520 - [https://www.semanticscholar.org/paper/d44050abf76b2d1a2cb6d127093cfb83ab2d96c8](https://www.semanticscholar.org/paper/d44050abf76b2d1a2cb6d127093cfb83ab2d96c8)

Fields: Computer Science

## (s13) Relation-aware Subgraph Aggregator.
(p13.0) To handle different relations in the knowledge graph, the relation-aware subgraph aggregators split the neighborhood graph into multiple subgraphs such that all edges of a subgraph belong to only one of the relation types in R. Each subgraph is assigned with an aggregator characterized by a unique set of parameters, and its information is extracted by this aggregator to produce a relation-sensitive context representation. We use n r u to denote the representation generated from a subgraph with type r edges. Finally, {n r 1 u , n r 2 u , . . .} are further fused together to produce the overall context representation for target node u. A typical example is shown in Figure 4b.

(p13.1) The complex interactions in agent-initialized social e-commerce can be formulated as a knowledge graph with numerous types of relations between three types of nodes, i.e., users, selling agents and items. Xu et al. [41] propose a novel framework RecoGCN to effectively aggregate the heterogeneous features in this knowledge graph. The "relation-aware aggregator" used in RecoGCN is:

(p13.2) where W r 1 and W r 2 are two learnable transformations assigned to the relation type r ∈ R. To boost the performance in recommender systems, The STAR-GCN architecture introduced by Zhang et al. [45] employs a multi-link graph convolutional encoder to learn the node representations. Each representation type r ∈ R is assigned with a specific transformation. Its aggregator is hence formulated as:

(p13.3) where {W r |r ∈ R} are the parameters to learn. IntentGC proposed by Zhao et al. [46] is a recommendation framework that captures both the explicit user preference and heterogeneous relationships of auxiliary information. To perform largescale recommendation, IntentGC introduces a vector-wise aggregator:

(p13.4) This aggregator is computationally efficient since it avoids unnecessary computations by replacing the expensive operation W · (n r 1 u ||n r 2 u || . . .) with the summation of multiple small matrix products. 3.1.3 Relation-aware Attentive Aggregator. In contrast to the other two types of aggregators, relation-aware attentive aggregators convert the neighborhood graph into a weighted graph, where the weight of each edge is a function of corresponding knowledge triplet, e.g., w =

(p13.5) These weights capture the rich semantic information encoded in the edges of a knowledge graph, and measure the relatedness of different knowledge triplets to the target node u.

(p13.6) Wang et al. [30] propose an end-to-end framework KGNN-LS that utilizes a knowledge graph as an addition information source to improve recommendation. For a given user, KGNN-LS applies a trainable function to identify important knowledge graph relationships and converts the knowledge graph into a user-specific weighted graph. The aggregator in KGNN-LS is hence formulated as:

(p13.7) f is a user-specific scoring function.

(p13.8) Li et al. [15] introduce a novel framework named V2HT, which is capable of boosting the performance of micro-video hashtag recommendation by jointly considering the sequential feature learning, the video-user-hashtag interaction, and the hashtag correlations. Similar to KGNN-LS, they assign different weights on different types of edges to transform the knowledge graph into a weighted graph. Specifically, the aggregator used in V2HT is:

(p13.9) where the subscripts i and j denote the i t h and j t h node in the graph, andD is a diagonal matrix with

(p13.10) Here α determines the weights assigned to a node itself and other correlated nodes. When α → 1, the feature of a node itself will be ignored; when α → 0, neighboring information will be ignored.

(p13.11) Fan et al. [6] propose a novel graph neural network framework GraphRec for social recommendation. The knowledge graph in social recommendation usually consists of two graphs: a social graph denoting the relationship between users and a user-item graph denoting interactions between users and items. GraphRec introduces three aggregators to process these two different graphs, i.e., user aggregator, item aggregator and social aggregator. The user and item aggregators extract information from the user-item graph while the social aggregator distills information from the social graph. These aggregators work in a similar way. Thus we only explain the item aggregator here for simplicity. Mathematically, the item aggregator is formulated as:

(p13.12) where α u,v represents the attention weight of the interaction with v in contributing u's context representation. Recommendation in online communities faces two challenges: 1) users' interest are dynamic, and 2) users are influenced by their friends. To address these challenges, Song et al. [23] introduce a novel framework DGRec based on a dynamic graph attention neural network. Specifically, They first model dynamic user behaviors with a recurrent neural network, and its outputs are used as initial graph node embeddings. Then, a graph attention neural network is adopted to model context dependent social influence, which dynamically infers the influencers based on user's current interest. The aggregator in this graph attention neural network is:

(p13.13) The KGCN framework proposed by Wang et al. [31] is an end-to-end recommender system that automatically discovers the high-order structure information and semantic information of Knowledge Graph (KG). The key idea of KGCN is to aggregate and incorporate neighborhood information with bias when calculating the representation for a given node in the knowledge graph. It is implemented by weighting neighbors with scores dependent on the connecting relations and nodes, which characterizes both the semantic information of KG and user's personalized interests in relations. Specifically, the aggregator in KGCN is:

(p13.14) Wang et al. [33] propose a method named KGAT to explicitly model the high-order connectivities in KG in an end-to-end fashion. The aggregator in KGAT works in a similar way as that of KGCN. The only difference is that it takes all the three embeddings z u , z e , and z v of a knowledge triplet as input to compute the attention score:

(p13.15) Here W e is a projection matrix to learn, which transforms inputs from the node embedding space to the edge embedding space. In social recommendation, there are four different social effects in recommender systems, including two-fold effects in user domain, i.e., a static effect from social homophily and a dynamic effect from social influence, and the other symmetric two-fold ones in item domain. To capture these four effects, Wu et al. [36] propose a framework named DANSER, which is composed of two dual Graph ATtention networks (GAT) [27]: one dual GAT for users-including a GAT to capture social homophily and a GAT to capture social influenceâȂŤand the other dual GAT for items. The aggregators in DENSER work in a similar way. We show one of them as an example:

(p13.16) where W p , W e , and w u are two weight matrices and one weight vector to learn.
## (s17) Single-interaction Updater.
(p17.0) For any node u in the knowledge graph, the single-interaction updater takes both u's context representation n u and u's current embedding z u as input to compute a new representation z new u = f (n u , z u ). f is a function that involves a binary operator such as sum, concatenation, etc, which is applied to both n u and z u . This operator builds an interaction between the node u and its context, and could potentially improve the model performance.

(p17.1) KGNN-LS [30] and KGCN [31] both utilize summation as the interaction operator. The only difference is that KGNN-LS applies a scaling operation on the input node embeddings before feeding them to the operator. Their updaters can be written as

(p17.2) where λ is the scaling factor and b is a bias that could be set to 0.
## (s37) Fairness of Recommendation
(p37.0) Nowadays, recommender systems are used in a variety of domains affecting people's lives. This has raised concerns about possible biases and discriminations that such systems might exacerbate. A typical example is news recommendation, where articles with biased stand may affect people's vote decisions. There are two kinds of biases inherent in recommender systems [7]: observation bias and bias stemming from imbalanced data. Observation bias exists due to a feedback loop which causes the model only learn to predict recommendations similar to previous ones. In contrast, imbalance in data is caused when a systematic bias is present due to society, historical or other ambient biases. This bias is implicit in data so that recommender systems are usually unaware of them.

(p37.1) Various methods have been proposed to build fair recommender systems. Alex et al. [2] introduce a pairwise recommendation fairness metric to evaluate algorithmic fairness concern in recommender systems, and offer a novel regularizer to encourage improve this metric during model training. Sahin et al. [9] propose complementary measures to quantify bias with respect to protected attributes and present an algorithm for computing fairness-aware re-ranking of results. Specifically, their algorithm seek to achieve a desired distribution of top ranked results with respect to one or more protected attributes. Jurek et al. [14] propose to quantify the user unfairness or discrimination caused by the post-processing module of recommender systems, which have the original goal of improving diversity in recommendation.

(p37.2) However, these algorithms are mainly designed for traditional recommender systems and cannot be used for GNN-KADR systems directly, since they do not consider any information or bias introduced by the knowledge graph. Therefore, building a fair GNN-KADR system is a promising but largely-unexplored area where more studies are expected.
## (s38) Cross-Domain Recommendation
(p38.0) Besides mining a single knowledge graph, there is an increasing need of computing recommendations using data from multiple sources. For instance, a customer may be users of more than one social networks at the same time, e.g., Facebook and LinkedIn. Each of these social networks collect data regarding this customer and embed them into their own knowledge graphs. Thus, it is reasonable to leverage information from all these knowledge graphs to boost the recommendation performance.

(p38.1) However, there are two significant gaps in the current research. The first gap is that existing research lacks exploration on effectively integrating information from multiple knowledge graph sources [12]. Most of them attempt to build associations between two different knowledge graphs by connecting related entities (i.e., nodes), as in Wang et al. [34]. The group knowledge represented by a collection of nodes or edges of the same types, which may be critical to align multiple knowledge graphs, is ignored in these methods.
