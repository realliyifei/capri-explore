# Location Prediction on Trajectory Data: A Review

CorpusID: 55620284 - [https://www.semanticscholar.org/paper/703d4f376eb2379ccce814c729d15f1165312167](https://www.semanticscholar.org/paper/703d4f376eb2379ccce814c729d15f1165312167)

Fields: Engineering, Computer Science, Geography

## (s0) Introduction
(p0.0) Urban planning, relieving traffic congestion, and effective location recommendation systems are important objectives worldwide and have received increasing attention in recent years.Spatiotemporal data mining is the key technique involved in these practical applications [1][2][3] .Trajectory data brings new opportunities and challenges in the mining of knowledge about moving objects.To present, many researchers have used trajectory data to mine latent patterns that are hidden in data.These patterns can also be extracted for the analysis of the behavior of moving objects.Location prediction, as the primary task of spatiotemporal data mining, predicts the next location of an object at a given time.In recent years, researchers in location prediction have Ruizhi Wu, Guangchun Luo, Junming Shao, Ling Tian, and Chengzong Peng are with School of Computer Science and Engineering, University of Electronic Science and Technology of China, Chengdu 611731, China.Email: ruizhiwuuestc@gmail.com; gcluo@uestc.edu.cn;gcluo.uestc@gmail.com;junmshao@uestc.edu.cn;lingtian@ uestc.edu.cn;prescott0307@outlook.com.To whom correspondence should be addressed.Manuscript received: 2017-11-20; accepted: 2018-01-10 made much progress.For instance, early studies traced student ID cards to identify frequent temporal patterns and used these patterns to predict their next location [4][5][6][7] .Since then, location prediction has had a wide range of applications in daily life, e.g., travel recommendation, location-aware advertisements, and early warning of potential public emergencies, to mention a few [8][9][10] .Location prediction typically must employ many techniques, including trajectory data preprocessing, trajectory clustering, trajectory pattern mining, trajectory segmentation, and trajectory semantic representation.In this article, we review the field of location prediction, its basic definitions, typical algorithms, model evaluations, and diverse applications.Our objective in this review is to present a comprehensive picture of location prediction.

(p0.1) The remainder of this paper is organized as follows: in Section 2, we introduce the basic concepts of location prediction, including the different sources of trajectory data, the general prediction framework, challenges in location prediction, and common trajectory data preprocessing methods.In Section 3, we introduce some common trajectory data preprocessing methods.Section 4 comprises the core of this review, in which we describe different models and briefly introduce each of their motivation, basic idea, and key techniques.In Section 5, we provide some public data sets, and typical evaluation strategies used in location prediction.Finally, in Section 6, we introduce some real-world applications and future directions.We conclude our overview in Section 7.
## (s11) Traditional trajectory data preprocessing often involves
(p11.0) Noise filtering addresses data inaccuracy problems when the sampled trajectory data from positioning equipment contains unexpected mistakes, such as sensor noise.Existing methods are mainly categorized into three types: mean (or median) filters, Kalman filters, and particle filters.

(p11.1) The stay point is a trajectory point in which the geographical position does not change over a relatively long period of time.Generally, stay points usually have a special meaning to the moving objects, such as a work place, restaurant, or nest for animals.The earliest stay point detection algorithm was proposed by Li et al. [27] and Zheng [28] .Many stay point detection algorithms are based on the concepts of density and nearest neighbours.

(p11.2) To present, the volume of trajectory data is rapidly increasing due to the popularity of positioning devices.However, a lot of trajectory data suffers from high costs of storage and analysis.Trajectory data compression is used to extract key information from trajectory data, including some key points in a trajectory to briefly represent the trajectory.Existing methods can be divided into three categories: off-line, on-line, and semantic compression.
## (s14) Trajectory data features
(p14.0) In contrast to other data, it is a non-trivial task to extract features from trajectory data.Some researches define a start point, end point, moving speed, and time length as features.Wang et al. [47] proposed new features in trajectory data, consisting of spatial mobility patterns, text content, individual temporal patterns, social relationships, collaborative filtering, and heterogeneous mobility datasets.Social relationships describe the social networks in Location Based Social Network (LBSN), in which the extracted features include the number of locations, user entropy, location entropy, and visitation ratio.Figure 4 shows some features in the Gowalla and Jiepang datasets [48] .There are various types of heterogeneous mobility datasets including bus, taxi, check-in, and life mobility datasets.Spatial mobility patterns, individual temporal patterns, and text content are extracted from individual trajectories via data mining or machine learning and collaborative filtering techniques are used to find similar users or locations.These features provide unique insights for exploring trajectories.
## (s17) Content-based methods
(p17.0) Content-based methods learn the content correlation or location transition probability, based on the assumption that the current user location is related to the previous location.To this end, researchers often construct a data structure to store content, then match the content to predict location [49,50] .The Markov model is a typical strategy that uses content information to predict a future state.

(p17.1) Song et al. [43] studied mobile phone positioning data via Wi-Fi signal, using a two-year trajectory trace of more than 6000 users on Dartmouth College's campus-wide Wi-Fi wireless network.The authors compared two prediction methods, Markov-based and compression-based location predictors.A Markov model is a typical sequence analysis method in which a Markov chain is used to model a user's location history based on the user's transition probability from one location to another.In this model, it is assumed that a user's next location depends on his current location.If a user arrives at an associated location, he is likely to visit the identified location.A k-order Markov model enables the prediction of a user location based on previous k 1 locations.If a user is currently at the n-th location, his k-order recent locations are .ln kC1 ; :::l n /.Formally, if we assume that a user trajectory history is l 1 ; l 2 ; l 3 ; :::; l n kC1 ; :::; l n , the k-order context is c D .ln kC1 ; :::; l n / and L is the location sets, then the Markov model is defined as shown in Eq. ( 1): where P .lnC1 D l j:::/ is the probability of the user arriving at the next place l .The first line in Eq. ( 1) is the Markov assumption, and the second line indicates that there is the same probability of arriving at a different location if the context is similar.Moreover, if a location has no historical context, its arrival probability is equal to zero.The other content-based method uses compressionbased location predictors with a popular incremental parsing algorithm for text compression.In this method, a trajectory is first partitioned into distinct subtrajectories st 0 ; st 1 ; :::; st m .Let l 0 D , and for j > 0, sub-trajectory l j removes its last location that is the same as l i , where 0 < i < j and st 1 st 2 :::st m D T ra.For example, for a trajectory gbdcbgcef bdbde, after partitioning by the above rule, the sub-trajectory sets are g; b; d; c; bg; ce; f; bd; bde.Then, a tree is built to store these sub-trajectories, in which the root nodes are , and the child node is sub-trajectories and each with a location occurrence number.Figure 5 shows an example.

(p17.2) For each location l in the location set, Eq. ( 2) is used to compute the occurrence probability, where N.st m ; l / denotes the number of st m occurring as a prefix for st m ; l in the sub-trajectory data sets.

(p17.3) Unlike Markov-based predictors which have a fixed length related to the k location, compression-based predictors depend on the occurrence number of location prefixes.Song et al. [43] compared the performance of these two methods in predicting the location of users via user Wi-Fi data.Based on their experimental results, the authors found low-order Markov methods to be more accurate than complex compression-based methods.Next, research is conducted to determine the Fig. 5 Example of a tree storage sub-trajectory based on compression [43] .

(p17.4) transition probability between different locations.The transition probability is used in both Markov-based and compression-based predictors, and is a prototype of the Spatial Mobility Pattern (SMP) feature that provides a new way of investigating changes in movement patterns over time.
## (s18) Distribution-based methods
(p18.0) Distribution-based methods model user movement as a distribution with location and time as two random variables.In this method, the probability of a random variable is computed and then ranked to predict a (a) (b) Fig. 7 (a) Probability of return; (b) ratio of novel checkin locations to all check-in locations in Gowalla and Jiepang datasets [48] .

(p18.1) location.Cho et al. [52] discovered that human movement in daily life is influenced by the factors, of geographical limitations and social relations.In their collected data set, the authors identified a peculiar phenomenon whereby the social network structure has little effect on the spatial and temporal patterns of human shortrange travel.Furthermore, social relationships account for just 10%-30% of people's daily life movement, and 50% of their periodic activity.The authors proposed a location prediction method based on these findingsthe Periodic and Social Mobility Model (PSMM)which describes human mobility based on periodic short-range travel and social network structures.The authors determined the home distance distributions of friends and all users, the distance between 200 large cities, and the probability of friendship as a function of distance, the results of which are shown in Fig. 8.

(p18.2) Figure 9 shows that the work place and home are the primary places in human daily life, and that most people visit their work place during the workweek daytime hours and their place of residence on work nights and weekend day times.Based on this finding, they proposed the Periodic Mobility Model (PMM) for predicting future user location states (based on partitions of all locations visited by users, both workand home-related).First, PMM infers the geographic location centres of two latent locations for each user and  [52] .temporal distribution of check-ins when at home or work place, denoted by red and blue lines, respectively [52] .
## (s19) Preference-based methods
(p19.0) Mobility preference is an important factor in predicting user location.Many studies have focused on user mobility preferences as a basis for predicting location.There are a number of methods available for determining user preference, with matrix-based methods being the most popular.

(p19.1) User location history can be used to generate a matrix and then matrix factorization can be used to capture user movement preferences.A tensor is an extension of the matrix.Bhargava et al. [58] used tensor factorization methods in multi-dimensional collaborative filtering to predict location via user profiles, user's short message in social network, and user location and temporal information.Human movement is related to user preferences, user activities, and user spatiotemporal patterns.The use of additional information enables the improvement of the overall prediction outcome.Multisource data fusion and collaborative filtering are key techniques.To solve the sparsity problem in check-in data, Bhargava et al. [58] proposed tensor factorization to complete multi-dimensional collaborative filtering tasks.They jointly analyzed the constructed tensor and matrices and formulated an objective function as shown in Eq. (7).

(p19.2) where W is a weight tensor, X is a tensor, U is a user matrix, L is a location matrix, A is an activity matrix, and T is a time matrix.k k 2 is Frobenius norm, Ä± is the outer product, and 1 5 are the model parameters.This method integrates user, activity, location, and temporal information to predict location by tensor factorization.The drawback of this method is that it is typically both resource and time consuming.

(p19.3) Single type mobility datasets often contain limited information.For example, check-in datasets include only check-in behaviour and social relationship.Heterogeneous mobility datasets include bus, taxi, daily life mobility, and so on.The use of various data sources provides new perspectives regarding movement patterns.Wang et al. [47] proposed a Regularity Conformity Heterogeneous (RCH) model for analyzing heterogeneous datasets and used a gravity model to determine the spatial influence.The RCH model assumes human movement to be affected by both regularity term and conformity term, and splits the geospatial space into many grid cells, as shown in Fig. 12.

(p19.4) Figure 12 associates each venue with a grid cell, in which a plus sign means that the user has visited this venue.RCH computes the probability of user u i visiting v j , denoted as P r.v j ju i /, based on three factors.The first factor is the visiting frequency of a grid cell as shown in Figs.12a and 12c.The second factor is the transition probability of the geospatial influence between different grid cells as determined by the gravity model.Figures 13a and 13b show the spatial influences of a bar district and an IT Fig. 12 Method for determining regularity term [47] .

(p19.5) (a) (b) Fig. 13 Spatial influence of a location using a gravity model based on taxi, bus, and check-in datasets.(a) Point A is a bus district, (b) point B is an IT district [47] .district, respectively.In contrast to traditional methods, the gravity model enriches the life and commuting information via training by heterogeneous trajectory data, such as taxi, bus, and check-in data.The third factor is the venue visiting frequency.The regularity term is computed using Eq. ( 8) below.
## (s21) Time-dependent methods
(p21.0) Most location prediction algorithms focus on geography or social characteristics, while ignoring temporal information.Some algorithms build a time-dependent model, but using a stochastic process is a better choice.Stochastic process models utilize time factors as random variables and embed location factors into the stochastic process.A typical example is the point process.

(p21.1) Du et al. [63] proposed the Recurrent Marked Temporal Point Process (RMTPP) to simultaneously model visiting time and location.The basic concept of RMTPP is to model movement history using a nonlinear function.RMTPP also uses a recurrent neural network to automatically learn a representation of influences from a user mobility history.Figure 16 shows the RMTPP framework.

(p21.2) For a given check-in trajectory T D .tj ; l j / n j D1 at the j-th check-in, location l j is first embedded into a latent space.Next, embedded vector and temporal information are fed into the recurrent layer and RMTPP automatically learns a representation of the visiting history.The output layer infers the next location and time depending on the representation.The key RMTPP process occurs in the recurrent layer, which undergoes a recurrent temporal point process.Figure 17 shows the recurrent temporal point process, which obtains a general representation of the fuzzy relation between temporal and spatial information.

(p21.3) Equation (17) shows the hidden layer, which has three parts.Here, y j is the location information, t j is the temporal information, W is the embedded matrix, h j is the representation of the j-th check-in event, and b h is the base term.
## (s23) Semantic-based methods
(p23.0) The aforementioned approaches often focus on spatiotemporal space, however, few researchers have paid attention to the trajectory of semantic space.Semantic-based predictors enable better reasoning and therefore better location prediction results.Ying et al. [23] proposed a semantic framework for location prediction via semantic pattern mining, called SemanPredict.First, the authors extracted frequent locations in a user's movement history and the semantic information associated with these movements, and then they generated semantic trajectory patterns.SemanPredict then generates two tree structures to store these patterns.In the prediction process, the score of the tree structure path is computed to predict location.Semantic-based methods enable a better understanding of the semantic information associated with visits to locations.
## (s27) Hybrid models
(p27.0) Both single-object and group models have advantages and disadvantages.Some researchers have proposed hybrid models that integrate the two model types.For example, Wang et al. [47] modeled regularity and conformity terms, respectively, and added these two factors to predict location.Lian et al. [48] modeled the correlation between periodic user behaviour and novel exploration behaviour.Sadilek et al. [62] learned user's social information in social networks to enhance the performance of location prediction.Their model integrates a user's profile, activity (based on an analysis of a short message), temporal information, and location to build a predictor model.Generally, hybrid mainly modes have three main concerns: (1) developing singleobject and group models, (2) correlating or integrating the single-object and group models, and (3) using additional information to improve the performance of their prediction systems.Recently, hybrid models have become the keystone in location-predication research due to their excellent performance.
## (s32) Applications
(p32.0) Location prediction has wide application and location predictors play an important role in urban management.These models can help alleviate traffic congestion, improves urban governmental planning [78][79][80][81] , and help predict crime rates [82] .Location prediction can also help advertisers to promote sales based on location.LBSN based data mining, which builds a real relation between on-line social networks and real life [83][84][85] , is used to recommend friends or locations and detect anomalous check-in locations.Location prediction is currently in a period of rapid development, and various techniques are being used based on the applications at hand.
