# How Can Probabilistic Solar Power Forecasts Be Used to Lower Costs and Improve Reliability in Power Spot Markets? A Review and Application to Flexiramp Requirements

CorpusID: 252995976 - [https://www.semanticscholar.org/paper/58fea38aeba33dd26fcaafa903b9f1ff6fc7b7e7](https://www.semanticscholar.org/paper/58fea38aeba33dd26fcaafa903b9f1ff6fc7b7e7)

Fields: Engineering, Economics, Environmental Science

## (s0) II. POSSIBLE APPLICATIONS OF PROBABILISTIC SOLAR FORECASTS IN POWER MARKETS
(p0.0) Here we review five general uncertainty management activities in spot power markets that can benefit from incorporation of probabilistic forecasts. We point out several existing and potential frameworks for taking advantage of such forecasts, focusing on acquisition of reserves and market hedging needs. Our review is intended to provide a brief but focused overview of these particular uses rather than exhaustively survey the literature on probabilistic forecasts and potential uses. Broader discussions of applications are provided in [24], [36], [60], and [63].

(p0.1) As a framework for this discussion, Fig. 2 presents schematics of scheduling decision processes in spot markets. These range from simple energy scheduling against a deterministic forecast to full stochastic programming (see also [14]). Time proceeds from left to right; squares are decision nodes (generator commitment and dispatch), while circles are chance nodes that indicate that more than one scenario of net load can occur. Blue lines represent energy schedules, while red represents operating reserve schedules. Solid lines extending from a chance node indicate that subsequent costs are weighted by each scenario's probability in the model's objective function, while dashed lines imply that the model just considers feasibility and not costs of the schedule under that contingency scenario.

(p0.2) For instance, in Fig. 2(a), ISO scheduling decisions in dayahead and real-time markets are simplistically represented as a sequence of decisions (one set of decisions per market interval) that schedule supply offers against either bid-in demand or a single deterministic forecast of net load at each bus in the network. There are no uncertainties or contingencies in that relatively simple process. At the other extreme, Fig. 2(e) schedules near-term generation while accounting for possible scenarios of net load that occur later, and how the system would subsequently adjust dispatch and commitment to adapt to each.
## (s1) A. IMPROVING SITUATIONAL AWARENESS IN THE CONTROL ROOM [24]
(p1.0) Operators who are running market software to schedule energy and reserves against a deterministic net load (as in Fig. 2(a)) of course must still recognize net load uncertainties. One way they do so is by maintaining a keen awareness of system developments over the day, so that they can manually adjust resource schedules to meet unexpected net load changes.

(p1.1) Control centers typically host several screens for visualizing network situational awareness, such as switch status and available reserves. Information is displayed about possible high-impact contingencies, as well as their effect on transmission line overloads, and, in some cases, voltage and transient stability [41]. The idea of situational awareness in the form of real-time visualization, event alerts, and plausible control locations/parameters is not new; however, enhancements to include probabilistic forecasts of variable renewable generation are desirable as renewable penetration and associated uncertainties grow.
## (s5) E. STOCHASTIC OPTIMIZATION TO PROCURE OPTIMAL AMOUNTS AND LOCATIONS OF RESERVES IN MARKET SOFTWARE
(p5.0) Stochastic multistage programming can be viewed as an extension of multi-scenario methods of Sections II.C,D in which probabilities are assigned to scenarios of, e.g., wind and solar output or net loads, and the objective is to minimize probability weighted costs across scenarios. Many researchers propose this approach as a rigorous method for endogenous determination of locations and amounts of reserves to manage uncertain net loads in unit commitment and dispatch problems (e.g., [47], [54], [56]). Indeed, it is undeniable that, in theory, probability-weighted costs would be minimized by optimizing immediate ''here-andnow'' decisions considering the many ways that uncertainties can unfold over the time horizon and how later ''wait-andsee'' decisions would optimally respond to forecast errors. Fig. 2(e) shows how these two types of decisions are related; after the initial decision, there are sets of scenarios issuing from a chance node, each with a probability and subsequent set of recourse decisions and associated costs. (We only show one chance node there; more generally, sequences of chance nodes could represent the random evolution of net load over the day.) But as has been pointed out [16], [48], this theoretical point does not imply that practical implementations by ISOs of stochastic programming in spot markets would actually improve schedules. This is because the sheer number of uncertain variables and decision stages cause an exponential explosion in problem size, and compromises have to be made to simplify the problem so it can be solved. Although computationally clever implementations of stochastic programming have greatly improved the efficiency of hydropower operations around the world (e.g., [40]), such practical success has been elusive for high dimensional unit commitment and dispatch problems of the size typically solved by ISOs. Another challenge is the need for scenario probabilities, including for extreme events whose probabilities are subject to high sample error and might be nonstationary due to, e.g., climate change. A lack of accepted and transparent methods for calculating such probabilities is a barrier to acceptance by stakeholders, many of whom already complain about the opaqueness of market processes.

(p5.1) Despite these obstacles, the theoretical advantages of stochastic programming for rigorous evaluation of system flexibility and diversity are appealing, and research has shown potential for significant benefits [47]. Like Section II.D's multi-scenario methodology, a hybrid ''belt and suspenders'' approach, in which a few crucial scenarios are considered, but some reserve capacity requirements are retained to cover other possibilities, may represent an optimal use of limited computing resources that may both lower system costs and increase reserve effectiveness. The fact that ISOs are already implementing post-contingency redispatch models (Sect. II.D) means that the stochastic programming camel's nose is already under the tent-in that extending Fig. 2(d) models to a full stochastic formulation requires only inserting probabilities and costs in the objective for already existing variables.

(p5.2) Probabilistic forecasts are critical to implementing stochastic programming-based scheduling models in order to construct the ''event trees'' that describe how stochastic net load processes evolve over time. If such models are to be used, then present probabilistic forecasting methods will need to be significantly revised, since their time horizons and data outputs often are based on availability of relevant meteorological inputs, rather than the needs of system operators.
## (s6) III. AN EXAMPLE OF LINKING PROBABILISTIC SOLAR FORECASTS TO RESERVE REQUIREMENTS DEFINITION
(p6.0) We now provide a detailed example to show the practicality and potential benefits of using probabilistic solar forecasts to create weather-informed operating requirements for inclusion in market models. Probabilistic solar forecasts for multiple sites in California from the IBM Watt-Sun probability forecasting system (see Sect. III.A) are input to statistical and ML models that predict quantiles of error distributions for forecast real-time (fifteen minute) ramp needs (Sect. III.B). We then evaluate the magnitude of resulting cost improvements for a sample of days using an 1820-bus model of the Western Electricity Coordinating Council (WECC) system, compared to using weather-independent ramp requirements based on an unconditional histogram of past forecast errors. This is done by simulating the WECC region's scheduling processes using NREL's Flexible Energy Scheduling Tool for Integrating Variable Generation (FESTIV) platform [19], yielding day-ahead and real-time schedules and costs. (Sect. III.C). Fig. 4 gives an overview of our proposed probabilistic forecast-informed process. Numerical weather predictions and historical data are input to the Watt-Sun forecasting method, which produces probabilistic solar forecasts. Using this and other weather information, we can then project FRP and other reserve needs that are then input to the ISO's scheduling processes. (For brevity, we emphasize the role of FRP requirements below.) Finally, historical ramp and weather data are accumulated day-to-day, and can be used to dynamically update relationships between solar forecasts and reserve needs. The flexible ramp product that is the focus of our analysis is a new type of operating reserve that three ISO markets (CAISO, MISO, and Southwest Power Pool) use to manage uncertainties in net load changes from interval to interval. The fundamental idea is to pre-position resources in one real-time market interval so that if the net load change turns to be either much higher or lower than anticipated in the next interval, the system can still feasibly and economically satisfy load. FRP can be viewed as a type of noncontingent spinning reserve that is acquired in one interval and can be used for energy production in the next if needed. Although details of implementation differ among the three ISOs using the product, their processes attempt to characterize the degree of uncertainty in real-time net load ramps both in the up and down directions, and then ensure that there is enough capacity to meet loads in either event with a predetermined degree of confidence. We hypothesize that the cost and reliability performance of the CAISO FRP could be improved by conditioning FRP requirements on weather conditions of the day, especially as reflected in the uncertainty in solar forecasts.
## (s7) A. IBM WATT-SUN PROBABILISTIC FORECASTING SYSTEM
(p7.0) The field of big data-driven probabilistic solar forecasting is evolving fast, driven by multiple trends including rapidly growing renewables and adoption of new decision-making processes by grid operators [53]. Solar forecasting research can be divided into (a) advancing the underlying physics in numerical weather prediction models, (b) developing non-physical but data-driven forecasting approaches that apply statistics, ML, and artificial intelligence to historical data, and (c) combinations of these physical and datadriven approaches [1]. The creation of probabilistic Watt-Sun provides an example of the third method which leverages advanced data acquisition and integration; scalable distributed computation; and validation to inform ML models for probabilistic forecasts.

(p7.1) The original version of Watt-Sun was deterministic, yielding forecasts of median solar insolation and power [38]. The flowchart within Fig. 5 summarizes the basic mechanics of the deterministic Watt-Sun forecasting method. The system is supported by a big data curation engine that integrates data from multiple numerical weather prediction models, plus shorter term models that forecast cloud movement. Then, multiple models are blended using a measurement-informed ML model, creating more accurate forecasts than any individual weather and cloud forecasting model. Predicted solar irradiance is then converted to power. The accuracy of the forecasts is then fed back to a ML approach that further optimizes model blending.

(p7.2) For the present project, IBM extended Watt-Sun to produce not only the median but also other quantiles (as in Fig. 1). Fig. 5 summarizes four building blocks that made this extension possible. The first building block is the replacement of the data management system of Watt-Sun with PAIRS (Physical Analytics Integrated Data Repository and Services), a completely scalable platform for geospatial-temporal data based on a Hadoop/Hbase cluster, allowing distributed and scalable processing [31], [39]. PAIRS improved speed and data processing throughput more than 50-fold compared to the previous system. PAIRS enables ''automatic'' fusing of satellite, weather, and sensor data; supports handling of tens of petabytes; and can inject data much faster than previously possible (eventually up to hundreds of TB/day). Crucially, PAIRS can also distribute forecast data in a scalable matter.
## (s8) B. RELATING FLEXIRAMP NEEDS TO PROBABILISTIC SOLAR FORECASTS
(p8.0) As noted in Section II.C, the probability distribution of forecast errors for net load ramps from market interval to interval could be derived by convolution of probabilistic forecasts of the solar, wind, and gross load components of net load. Since this is not yet practical, we instead use ML and statistical methods to empirically relate quantiles of the distribution of net load forecast errors to meteorological variables, especially the width of prediction intervals from probabilistic solar forecasts. (Note that the up (down) ''forecast error'' for each 15-minute real-time interval being predicted by the CAISO has a specific definition. It is the difference between (a) the max (min) binding interval energy forecast from the 5-minute market over the three 5-minute intervals within the 15-minute interval of interest and (b) the first advisory 15-minute interval forecast from the previous 15 minute interval in the 15-minute real-time market.)

(p8.1) Our search for empirical relationships is inspired by evidence that different solar conditions are associated with different amounts of ramp forecast errors. For instance, Fig. 7 (left) shows that on an uncloudy day, those errors (shown in red) can be relatively smaller than on a somewhat cloudy day (right), when solar output is likely to be less predictable. Under the present CAISO FRP requirements process, the FRP up and down requirements (shown in black) vary from hour-to-hour based on the distribution of errors experienced in recent weeks, but are not conditioned on today's weather conditions. That is, whether today is cloudy or not, the black lines would stay the same on a given day. (Note that the requirements for the two days in Fig. 7 do differ because they are 13 days apart.)

(p8.2) Weather-conditioned requirements, by contrast, would shift the black lines on a given day depending on solar uncertainty and other variables. In Fig. 7, relationships between ramp forecast error distributions and weather variables estimated by a ML-based method (k th -nearest neighbor ''kNN'') have been exploited to adjust the requirements to account for the degree of cloudiness by using medians and prediction interval widths from probabilistic solar forecasts [34]. These are shown as green lines; consequently, up-and down-FRP requirements are reduced relative to baseline unconditional requirements on less cloudy days when there is less solar uncertainty (left side of figure), but are increased on cloudy days with more solar uncertainty (right side). By reducing requirements when there is less forecast error, money is saved by not procuring unneeded reserves. On the other hand, by increasing requirements when more error is anticipated, reliability of the system is improved and price spikes in the real-time energy market are avoided. Overall, the result can be a less costly and more reliable system. Fig. 8 displays the overall performance of the kNN probabilistic solar forecast-conditioned FRP requirements (in the upwards direction) versus the CAISO unconditional baseline method. We consider two performance indices: (a) the amount of FRP procured and (b) the reliability of the requirement, in terms of the chance that actual ramps exceed the procured FRP. The target reliability of the CAISO system is that no more than 2.5% of intervals have upward ramp errors that exceed the FRP-up requirement. (The target is also 2.5% for downward ramp errors.) A system with smaller values of both (a) and (b) is preferred. Here, whisker plots (top of figure) reveal that the median FRP is reduced in 6 of 8 hourly intervals, and by as much as 50%. Also, in 6 of 8 intervals, the reliability of the kNN requirements (bottom) is as good or better than the baseline reliability, and is much better in most intervals.   A Pareto plot is another way to show the relative performance of requirements estimation methods, by showing both how often ramp shortages occur and amounts of excess FRP (the amount above what is needed to meet actual ramps) for a given method as a point on an x-y plot (Figs. 9, 10). If a method's point lies southwest of the baseline, it is better in both objectives, whereas points to the northeast are worse in both.
