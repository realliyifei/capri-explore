# A SURVEY OF CLONES ON INFINITE SETS

CorpusID: 16450005
 
tags: #Mathematics

URL: [https://www.semanticscholar.org/paper/2a375b6d3204e6d64c5377f76dbc4d2e41dc97fd](https://www.semanticscholar.org/paper/2a375b6d3204e6d64c5377f76dbc4d2e41dc97fd)
 
| Is Survey?        | Result          |
| ----------------- | --------------- |
| By Classifier     | False |
| By Annotator      | (Not Annotated) |

---

A SURVEY OF CLONES ON INFINITE SETS
15 Jan 2008

Martin Goldstern 
Michael Pinsker 
A SURVEY OF CLONES ON INFINITE SETS
15 Jan 2008arXiv:math/0701030v2 [math.RA]
We summarize what we know about the clone lattice on an infinite set and formulate what we consider the most important open problems.

## The clone lattice on an infinite set

A clone on a set X is a set of finitary operations on X which contains all projections and which is moreover closed under functional composition. More formally, define for every natural number n ≥ 1 the set O (n) = X X n of all operations of arity n, and set O = n≥1 O (n) (viewed as a disjoint union); then O is the set of all operations of finite arity on X. A projection is an operation f (x 1 , . . . , x n ) ∈ O which satisfies an identity of the form f (x 1 , . . . , x n ) = x k for some 1 ≤ k ≤ n. We denote the n-ary projection which projects onto the k-th variable by π n k . Whenever Y is a set, g 1 , . . . , g n are functions from Y to X, and f : X n → X, then we view the tuple g = (g 1 , . . . , g n ) as a function from Y to X n , and write f (g 1 , . . . , g n ) for the composition f • g:

f (g 1 , . . . , g n ) : y → f (g 1 (y), . . . , g n (y)).

With these definitions, a clone C is a subset of O which contains all π n k and for which the composition f (g 1 , . . . , g n ) : X m → X is an element of C whenever f ∈ C is n-ary and g 1 , . . . , g n ∈ C are m-ary. Examples of clones are:

• The full clone O.

• The set J of all projections on X.

• For a partial order ≤ on X, the set of finitary operations on X which are monotone with respect to ≤. • More generally, for a relation R ⊆ X I , where I is a not necessarily finite index set, the set of all operations that preserve this relation. In fact, every clone is of this form. For infinite X, I can be chosen to be of cardinality |X| ( [Ros72]). • The set of idempotent operations (i.e., operations that satisfy the equation f (x, . . . , x) = x) on X. • The set of conservative operations on X (an operation f ∈ O (n) is called conservative iff it satisfies f (x 1 , . . . , x n ) ∈ {x 1 , . . . , x n } for all x 1 , . . . , x n ∈ X). • For an algebra X = (X, F ), the set of all endomorphisms, i.e., all operations g that commute with all operations f of X: g(f, . . . , f ) = f (g, . . . , g). • For a topological space X = (X, T ), if for every n ≥ 1 we have X n equipped with the product topology, the set of all continuous operations which map some product X n into X. • For an algebra X = (X, F ), the set of all polynomial functions of X.

• For an algebra X = (X, F ), the set of all term operations of X. In fact, every clone is of this form. Observe that the last example is an equivalent definition of a clone. Alternatively, clones can be defined as precisely the subalgebras of a certain algebra (O, {π 2 1 , •, ζ, τ, ∆}) with base set O; the latter has been pointed out in slightly different form by Mal'cev in [Mal66], see also [PK79, 1.1.1].

Since we will not make use of this definition, we do not define the operations of this algebra here.

Ordering all clones on X by inclusion, one obtains a lattice Cl(X) with largest element O and smallest element J . This lattice is called the clone lattice. In the clone lattice, the meet of two clones is just their intersection, while their join is obtained by generating all terms that can be built from operations of the two clones. In fact, arbitrary intersections of clones are clones again, so the clone lattice is complete. Its compact elements are exactly the finitely generated clones, so the clone lattice is algebraic since clearly every clone is the supremum of its finitely generated subclones.

The clone lattice has only one element if |X| = 1, but is already countably infinite if |X| = 2. In the latter case, Cl(X) has been completely described by Post [Pos41]. If X is finite and has at least three elements, then we already have | Cl(X)| = 2 ℵ 0 [YM59]; it cannot be larger since clones are subsets of O, and since |O| = ℵ 0 . On infinite X, the size of O is 2 |X| , and the clone lattice has cardinality 2 2 |X| . This is easy to see: Fix two elements 0, 1 ∈ X and let f A ∈ O (1) be the characteristic function of A, for every subset A of X. Then for every set A of proper non-empty subsets of X \ {0, 1}, consider the clone C A which is generated by {f A : A ∈ A }; a quick check shows that all those clones are distinct.

The larger the base set X, the more complicated the clone lattice becomes: If Y is a proper subset of X, then Cl(Y ) is isomorphic to an interval of Cl(X) (see e.g. the textbook [PK79, Theorem 3.3.5] for how to perform such a construction). Even on finite base sets with at least three elements, the clone lattice seems to be too complicated to be ever fully described. Besides its sheer size, several results indicate that its structure is complex: For example, Bulatov has shown that the clone lattice does not satisfy any non-trivial lattice identity if |X| ≥ 3 [Bul93]; it does not satisfy any quasiidentity if |X| ≥ 4 [Bul94]. Also, if |X| ≥ 4, then every countable product of finite lattices is a sublattice of Cl(X) [Bul94]. Moreover, despite considerable effort, fundamental questions such as finding the atoms of Cl(X) for |X| ≥ 4 are still open. So far, most attention has been given to clones on finite X, since such clones correspond to the term operations of finite algebras, which are of particular interest to universal algebraists. The three only books on clones, the older [PK79] and [Sze86], and the very recent [Lau06], mainly deal with clones on finite sets. However, as can be seen from the examples above, clones appear naturally on infinite sets as well, and the study of clones on infinite sets allows for the use of not only algebraic methods, but also methods from set theory or combinatorial arguments that often bear finitary and infinitary aspects. First results on clones on infinite sets date back to the 1950s, when Yablonskij studied countable clones on countably infinite base sets as a first generalization from the finite ( [Yab58] and [Yab59]). Recently a considerable number of new results has been published. In this survey, we try to summarize the state of the art and formulate what we believe are the most rewarding open questions in the field.

1.1. Conventions and additional notation. All notation introduced so far will be valid throughout the paper. In particular, the base set will be X; unless mentioned otherwise, we will always assume X to be infinite. The sets O (n) (for n ≥ 1) and O will sometimes also be denoted by O (n) X and O X , respectively, if we want to emphasize the base set X. For F ⊆ O, we write F for the clone generated by F , i.e., the smallest clone that contains F . For n ≥ 1, F ∩ O (n) is called the n-ary fragment of F and denoted by F (n) . If f ∈ O and the arity of f has not yet been given a name, then we denote this arity by n f . An operation f ∈ O (n) is called essentially unary iff it depends only on one of its variables, i.e., iff there is a unary function F ∈ O (1) and 1 ≤ k ≤ n such that f = F (π n k ). For a cardinal λ, [X] λ is the set of subsets of X of cardinality λ, and [X] <λ is the set of subsets of X of cardinality smaller than λ. For example, if X = N, then [X] |X| is the set of infinite subsets of X, and [X] <|X| is the set of finite subsets of X. We write λ + for the successor cardinal of λ.

Acknowledgement. The authors would like to thank Günther Eigenthaler for his thorough proofreading, and Lutz Heindorf for his kind help with the Russian literature and his numerous suggestions.


## Non-structure of the clone lattice

The size 2 2 |X| of Cl(X), the fact that it contains copies of all clone lattices over finite sets as intervals, and several "non-structure results" that will be discussed later in this survey have long indicated that the clone lattice is complicated, and that there is no hope of describing it completely. Recently, it has been shown that the clone lattice is in some sense the most complicated algebraic lattice of its size.

Theorem 1 (Pinsker [Pin07]). Let L be an algebraic lattice which has not more than 2 |X| compact elements. Then Cl(X) contains a copy of L as a complete sublattice.

Since the compact elements of Cl(X) are just the finitely generated clones, their number is not larger than |O| = 2 |X| , and it is easy to construct 2 |X| functions that all generate distinct clones: Characteristic functions of subsets of X as used in the introduction are an example. Since it is known that a complete sublattice of an algebraic lattice cannot have more compact elements than the original lattice, the lattices of Theorem 1 exhaust all complete sublattices of the clone lattice. We remark that the analogous theorem does not hold on finite X. That is, the clone lattice over finite X has countably infinitely many compact elements, but does not have every algebraic lattice whose number of compact elements is countable as a complete sublattice. For example, the lattice M ω (i.e., the lattice consisting of countably infinitely many incomparable elements plus a smallest and a greatest element) does not embed into the clone lattice over any finite set [Bul01].

Note that Theorem 1 implies that Cl(X) does not satisfy any non-trivial lattice (quasi-)identities. This also follows from the fact that the latter is the case already for finite X if |X| ≥ 3 (|X| ≥ 4 for quasi-identities), by a result of Bulatov [Bul93] ( [Bul94] for quasi-identities), since all clone lattices over a finite set embed as intervals into Cl(X).

It is open which lattices embed as intervals of the clone lattice.

Problem A. Is every algebraic lattice with at most 2 |X| compact elements an interval of the clone lattice Cl(X)?

If this problem has a positive answer, it would be interesting to know whether operations of arity greater than one are needed. At this point, we remark that a submonoid of the full transformation monoid O (1) can be thought of as a clone whose operations are all essentially unary, i.e., depend on at most one variable. The lattice of submonoids of O (1) is therefore isomorphic to an interval of the clone lattice, namely the interval [J , O (1) ] which starts with the projections J , and which has the clone of all essentially unary operations as its largest element. Clones in this interval are called unary.

Problem B. Is every algebraic lattice with at most 2 |X| compact elements an interval of the lattice of monoids, i.e., a subinterval of [J , O (1) ]?

If the answer to this problem is negative, then it could still be the case that Theorem 1 holds for the monoid lattice. The proof of the theorem in [Pin07] used non-unary operations.

Problem C. Is every algebraic lattice with at most 2 |X| compact elements a complete sublattice of the lattice of monoids, i.e., a subinterval of [J , O (1) ]?


## Precomplete clones

A precomplete or maximal clone is a dual atom of Cl(X), i.e., a clone C that satisfies C ∪ {f } = O for all operations f / ∈ C . A natural question is whether one can determine all precomplete clones of the clone lattice. On finite X this question has an additional justification: There, since every precomplete clone is determined by its binary fragment (as we will see later in this section), the precomplete clones are finite in number. Moreover, every clone is contained in a precomplete one, which follows immediately from a standard argument using Zorn's lemma and the fact that O is generated by a finite number of functions; in fact, this can be proven easily without the use of Zorn's lemma, see Section 3.2. Therefore, knowledge of the precomplete clones yields an effective completeness criterion for finite algebras. That is, given an algebra (X, {f 1 , . . . , f k }), we can actually decide whether every finitary operation from O is a term operation of the algebra: Just check if the operations f 1 , . . . , f k are all contained in one of the precomplete clones. And indeed, the precomplete clones for finite X have been described in a deep theorem due to Rosenberg [Ros70]. We will see here that on infinite X, the situation is more complicated, but still knowledge of some precomplete clones can yield useful completeness criteria. The search for such criteria has been pioneered by Gavrilov ([Gav59] and [Gav65]) for countably infinite X: For example, he defined two binary operations f 1 , f 2 , such that an algebra is complete if and only if it produces all unary operations and both f 1 and f 2 as term operations.

One method of describing precomplete clones which was used already by Gavrilov, and later also by Rosenberg who started investigating precomplete clones on uncountable sets in [Ros74], is the following: For k ≥ 1 and a set of operations F ⊆ O (k) , define the clone of polymorphisms Pol(F ) to consist of all functions f ∈ O which satisfy f (g 1 , . . . , g n f ) ∈ F whenever g 1 , . . . , g n f ∈ F . Then for a clone C , the following facts (from [BKKR69a], [BKKR69b] for finite X and [Ros72] for infinite X) are easy to verify:
Pol(C (k) ) ⊇ Pol(C (k+1) ) ⊇ C , Pol(C (k) ) (k) = C (k) for all k ≥ 1. In particular, k≥1 Pol(C (k) ) = C .
Therefore, if C is a precomplete clone such that C (1) = O (1) , then Pol(C (1) ) is non-trivial and contains C ; whence C = Pol(C (1) ) by the precompleteness. This means that we can find all precomplete clones which do not contain all unary operations as clones of polymorphisms of some monoid M ⊆ O (1) . If a precomplete clone does contain all unary operations, then it does not contain all binary operations, for otherwise the well-known fact (see [Sie45]) that O (2) = O would imply C = O. Thus by the same argument, C = Pol(C (2) ) and precomplete clones above O (1) can be described as clones of polymorphisms of their binary fragments.

We will see examples of precomplete clones defined this way later in this section. We remark that this representation of precomplete clones works also on finite X; hence in that case, there exist only finitely many precomplete clones. An example of a collapsing clone, i.e., of a clone C for which the descending chain of Pol(C (k) ) collapses as a consequence of C = Pol(C (1) ), is the one generated by all permutations S of the base set X (see e.g. [MP]). On the other hand, we will see in Section 5.5 that intervals of the form [C , Pol(C (1) )] can also be large.

3.1. The number of precomplete clones. Unfortunately, the task of describing all precomplete clones seems rather hopeless. Whereas on finite X, the number of precomplete clones is finite, it has been shown by Gavrilov in [Gav65] for countable X and by Rosenberg [Ros76] for uncountable X that there exist 2 2 |X| = | Cl(X)| precomplete clones on an infinite base set.

A shorter and more explicit construction proving the latter fact has been provided by Goldstern and Shelah in [GS02]:

Let I be an ideal of subsets of X, that is, a downset of the power set of X that is closed under finite unions. Then the set C I of all operations f ∈ O which satisfy f [A n f ] ∈ I for all A ∈ I is easily seen to be a clone. Now one can prove that maximal ideals (i.e., ideals which cannot be extended to a larger ideal except the whole power set of X, or equivalently, ideals dual to ultrafilters) give rise to precomplete clones, and that different maximal ideals yield different precomplete clones. This immediately implies that the number of precomplete clones is 2 2 |X| , since it is well-known that there exist that many maximal ideals on X.

Czédli and Heindorf asked which clones C I , for I an ideal, are precomplete if I is not maximal. Define the support supp(I) of an ideal I to be the union over the sets of I. They found the following criterion for countable X:

Theorem 2 (Czédli and Heindorf [CH01]). Let I be an ideal on a countably infinite base set X.

• If ∅ = supp(I) = X, then C I is precomplete iff I contains only finite sets or all subsets of supp(I). • If supp(I) = X, then C I is precomplete iff I contains some but not all infinite subsets of X and for all B / ∈ I there exists some f ∈ C I such that f [B n f ] = X.

A drawback of the test for precompleteness in the case where the ideal has full support is that in general, one might have to use functions of high arity to see that C I is precomplete, despite the fact that C I is actually determined by its unary operations: 
I ).
Consequently, a solution to the following problem can at least be hoped for.

Problem D. Find a test for precompleteness of C I that uses unary operations only.

If X is uncountable, then the test from Theorem 2 does not work in general, as can be seen from the following example:

Example. If X = ℵ ω , and I is the ideal of bounded subsets of X, then one can prove C I to be precomplete, but for cardinality reasons no countable unbounded subset of X can be mapped onto X. For the same reason, the precompleteness test fails for X = R and the ideal J of bounded subsets of R, although C J can be shown to be precomplete.

The following problem deals with a well known ideal on the natural numbers.

Problem E. Let X = N be the natural numbers, and define an ideal I to consist of all sets A ⊆ N which have upper density 0, i.e., for which lim n→∞ |A ∩ {0, . . . , n}| |{0, . . . , n}| = 0.

Is C I precomplete?

3.2. Dual atomicity. A lattice L with greatest element 1 is called dually atomic iff every element x ∈ L \ {1} is contained in some coatom of L. It is easy to see that the clone lattice Cl(X) is dually atomic for finite X. Indeed, for every clone C O there is a maximal set F ⊆ O (2) with the property C ∪ F = O; now Pol( C ∪ F (2) ) must be precomplete.

The above argument used the fact that O is generated by the finite set O (2) , which is finite for finite X. Using Zorn's lemma one can also easily show the following for arbitrary X:

Fact 4. Assume that F is a finite set of functions, C 1 C 2 are clones, and C 2 = C 1 ∪ F . Then the interval [C 1 , C 2 ] is dually atomic.

For infinite sets X we still have O = O (2) , but since O (2) is not finite any more, the above arguments cannot be used, allowing the possibility that the clone lattice for infinite sets is not dually atomic. It is still not clear whether the statement Cl(X) is not dually atomic can be proved outright for any infinite set X. But the following theorem shows that the above statement cannot be refuted, and that indeed it holds in many set-theoretic universes, for many sets X (in particular for countably infinite X, assuming the continuum hypothesis):

Theorem 5 (Goldstern and Shelah [GS05], [GSa]). Let X be of regular cardinality κ, and assume that 2 κ = κ + (in other words: the generalized continuum hypothesis holds at κ). Then the clone lattice Cl(X) is not dually atomic.

Problem F. Is it provable (in ZFC, without assumptions on cardinal arithmetic) that there is a set X whose clone lattice is not dually atomic?

We also do not know what happens at singular cardinals.

Problem G. Is the clone lattice Cl(X) dually atomic when |X| is singular? Is it at least consistent that it is (or: is not) dually atomic?

3.3. Precomplete clones that contain all unary operations. Terminology 6. The binary fragment C ∩ O (2) of a clone C is a subset of O (2) containing the two projections and closed under the map (f, g, h) → f (g, h); conversely, every such set is the binary fragment of the clone it generates.

Subsets of O (2) with the above closure properties have been called "binary Menger algebras" or "Menger algebras of rank 2". (This name has also been used for abstract algebras with a ternary operation (x, y, z) → x(y, z) satisfying the natural associativity property.)

In analogy with the term monoid for unary fragments of clones we suggest the term dichoid for binary fragments of clones. A binary clone is a clone generated by its binary fragment; the map C → C ∩ O (2) is a natural isomorphism between the lattice of binary clones and the lattice of binary Menger algebras (dichoids).

We have mentioned that the precomplete clones C can be divided into two classes: Those which do not contain O (1) and are therefore of the form Pol(M ) for some monoid M ⊆ O (1) (specifically: M = C (1) ), and those which contain O (1) and are therefore of the form Pol(H ), for some binary Menger algebra H ⊆ O (2) (specifically: H = C (2) ). Here we consider precomplete clones in the second class. We will define them by describing their binary fragments.


## Fact 7.

(
1) Assume that p ∈ O (2) is 1-1. Then O (1) ∪ {p} = O. (2) Every clone in [ O (1) , O) is contained in a precomplete clone.
(3) For each cardinal λ with 2 ≤ λ < |X|, the set
K <λ = O (1) ∪ {f : |f [X n f ]| < λ}
is a clone. For finite numbers n we will write K n instead of K <n+1 .

Observe that (2) follows from (1) using Zorn's lemma. (1) is due to Sierpiński [Sie45].

Theorem 8 (Burle [Bur67]). If X is finite, then the interval [ O (1) , O] is a chain of length |X| + 1:
O (1) = K 1 B K 2 . . . K |X| = O (where B is Burle's clone described in Section 6).
On finite sets we therefore have a unique precomplete clone above O (1) , namely K |X|−1 (this was already discovered by S lupecki in [S lu39]; English translation: [S lu72]). As we will see below, there are two precomplete clones above O (1) when X is countable, and very many precomplete clones above O (1) for most uncountable sets X.

We will now define the two precomplete clones above O (1) for a countable base set X. While a natural analogue of the first of these clones can be defined on any set of regular cardinality, the second clone has an analogue only on so-called weakly compact cardinals.

3.3.1. Almost unary functions. To define the first precomplete clone containing O (1) , we consider base sets X of regular infinite cardinality. We need the following definition.

Definition 9. We say that a function f ∈ O (2) is almost unary iff there is a function F : X → [X] <|X| such that one of the following holds:
• For all x, y ∈ X: f (x, y) ∈ F (x). • For all x, y ∈ X: f (x, y) ∈ F (y). A function f ∈ O (n) is almost unary iff there is a function F as above and an index k ∈ {1, . . . , n} such that f (x 1 , . . . , x n ) ∈ F (x k ) for all x 1 , . . . , x n ∈ X.
We assume that κ := |X| is a regular cardinal. Replacing X by κ we arrive at the following equivalent definition:
A function f ∈ O (n) κ is almost unary iff there are k ∈ {1, . . . , n} and F ∈ O (1) κ such that f (x 1 , . . . , x n ) ≤ F (x k ) for all x 1 , . . . , x n ∈ κ. Example. Any function f ∈ O (2) κ with f (x, y) = 0 whenever x < y is almost unary. Example. The function min(x, y) ∈ O (2) κ is almost unary, but neither the function max(x, y) ∈ O (2) κ nor the median function m 3 ∈ O (3)
κ (see Definition 33) are almost unary.

Definition 10. We write T 1 = T 1 (X) for the set of binary almost unary functions.

It turns out that the clone of almost unary functions is generated by its binary fragment (see [Pin04]).

Fact 11. The clone T 1 is exactly the clone of all almost unary functions.

The following theorem was proved by Gavrilov for countable X, and by Davies and Rosenberg for regular uncountable X.

Theorem 12 (Gavrilov [Gav65], Davies and Rosenberg [DR85]). Let X have regular cardinality.

(1) T 1 is a precomplete binary Menger algebra (i.e., a coatom in the lattice of binary Menger algebras) containing all unary functions.

(2) Pol(T 1 ) is a precomplete clone containing O (1) .


## 3.3.2.

Never 1-1 functions. Our next (and, at least on countable sets, last) precomplete clone above O (1) can only be defined on base sets of certain cardinalities. Again we write κ for the cardinality of X, and then replace X by κ, so we can use a well-order of X.

Definition 13. Let κ be a cardinal. Write
• ∇ := ∇ κ := {(x, y) ∈ κ × κ : x < y}, the points above the diagonal, • ∆ := ∆ κ := {(x, y) ∈ κ × κ : x > y}. ∆ ∇ The notation κ → (κ) 2 n means that for all functions F : ∇ → {1, . . . , n} there is a set A ⊆ κ of cardinality κ such that f ↾(A × A) ∩ ∇ is constant.
The fact that ℵ 0 → (ℵ 0 ) 2 2 holds is the statement of Ramsey's theorem; see [EHMR84]. Uncountable cardinals satisfying this partition relation are called weakly compact.

Note that the unary version of this relation is just the pigeonhole principle: κ → (κ) 1 n means that every function from κ to an n-element set is constant on a subset of κ of cardinality κ; this is true for all infinite cardinals κ.


## Definition 14.

We call a function f defined on a subset of ∆ or on a subset of ∇ canonical iff it has one of the following forms:
• f is 1-1 ("type 1-1") • f (x, y) = F (x) for some 1-1 function F ∈ O (1) κ ("type x") • f (x, y) = F (y) for some 1-1 function F ∈ O (1) κ ("type y") • f is constant ("type c")
We call a (partial) binary function f canonical if both f ↾∆ and f ↾∇ are canonical.

Example. The functions min and max are canonical: min(x, y) = x for (x, y) ∈ ∇, so min ↾∇ has type x, whereas min ↾∆ has type y.

For the next definition, recall that for a set Y and a cardinal λ, A ∈ [Y ] λ means that A is a subset of Y which has cardinality λ.
Fact 15. Let f ∈ O (2) κ , where κ → (κ) 2 2 . Then: (1) There are sets A, B ∈ [κ] κ such that f ↾(A × B) is canonical.
(2) There are 1-1 (strictly increasing) unary functions u and v such that f (u(x), v(y)) is canonical.

We can now classify functions according to the types their canonical restrictions to various sets of the form A × B can have. It turns out that disallowing the type 1-1 will define a binary Menger algebra.

Definition 16. We say that a function f ∈ O

(2) κ is never 1-1 iff: Whenever u, v ∈ O (2) are essentially unary functions, then the function f (u, v), restricted to ∇, is not 1-1.

Observe that it is sufficient to consider only such pairs (u, v) of functions where one of the functions depends only on the first variable, and the other only on the second.

Assuming κ → (κ) 2 2 , we can use Fact 15 to get the following equivalent formulation: f is never 1-1 iff: for all A, B ∈ [κ] κ such that f ↾(A × B) is canonical, the types of f ↾(A×B)∩∆ and f ↾(A×B)∩∇ are among "type x", "type y" and "type c" (but never "type 1-1").

More generally, we say that a function f ∈ O (n) is never 1-1 iff: Whenever u 1 , . . . , u n ∈ O (2) are essentially unary functions, then the (binary) function f (u 1 , . . . , u n ), restricted to ∇, is not 1-1.

We writeT 2 for the set of all never 1-1 functions, and T 2 for the set of all binary never 1-1 functions.
Example. Let X = N. The function p ∆ ∈ O (2) , defined by p ∆ (x, y) := x 2 + y if x > y 0 otherwise,
is canonical; p ∆ has type 1-1 on ∆, and type c on ∇. Note that p ∆ ∈ T 1 \ T 2 .

Definition 17. We say that a function f ∈ O

(2) κ is densely unary, iff:
Whenever A, B ∈ [κ] κ , then there are A ′ ∈ [A] κ , B ′ ∈ [B] κ such that both f ↾ (A ′ × B ′ ) ∩ ∆ and f ↾ (A ′ × B ′ ) ∩ ∇ are essentially unary.
It is clear that every densely unary function is never 1-1. But for some base sets also the converse holds:

Theorem 18 (Gavrilov [Gav65], Goldstern and Shelah [GS02]). Assume that X is either countable or |X| is a weakly compact cardinal. Then:

•
A function f ∈ O (2)
is densely unary iff f is never 1-1.

• The set T 2 of all binary never 1-1 functions is a binary Menger algebra. • The setT 2 of all never 1-1 functions is a clone, andT 2 = Pol(T 2 ).

• T 2 is precomplete as a binary Menger algebra.

• Pol(T 2 ) is a precomplete clone.

• Pol(T 1 ) and Pol(T 2 ) are the only precomplete clones containing O (1) .

• T 1 and T 2 are the only coatoms in the lattice of binary clones above O (1) .

For countable sets this was shown directly by Gavrilov in [Gav65], without using Ramsey's theorem. Goldstern and Shelah in [GS02] showed this theorem for all cardinals satisfying the partition relation κ → (κ) 2 2 . We remark that weakly compact cardinals are very large; in particular, they are regular strong limit cardinals (see Section 3.3.4). Within the usual framework of Set Theory (the ZFC axioms) it is not provable that weakly compact cardinals exist; however, among the "large cardinals" considered in Set Theory, weakly compact cardinals are near the bottom of the scale, and set theorists working in this area consider the additional axiom "there are weakly compact cardinals" (and even much stronger axioms) plausible (or even "true").

3.3.3. Other regular cardinals. For uncountable regular cardinals which are not weakly compact, the situation is unclear. Pol(T 1 ) is again a precomplete clone (assuming that the cardinality of X is regular), but there seems to be no reasonable analogue of Pol(T 2 ). Davies and Rosenberg proved in [DR85] that assuming CH the natural analogue of T 2 is not a binary Menger algebra on the base set ℵ 1 , i.e., is not closed under composition.

Definition 19. Let λ be a cardinal. The property P r(λ) is the following statement: There is a symmetric function c : λ × λ → λ with the following anti-Ramsey property:

For all sequences (a i : i < λ) of pairwise disjoint finite subsets of λ, and for all
c 0 ∈ λ there are i < j < λ such that c↾(a i × a j ) is constant with value c 0 .
This property is useful for the following theorem:

Theorem 20 (Goldstern and Shelah [GS02]). Assume P r(λ). Then there are 2 2 λ many precomplete clones above the unary functions on the set λ.

By [She94, III.4 and Appendix 1], P r(λ) holds whenever λ is the successor of an uncountable regular cardinal (and also for successors of certain singular cardinals, e.g., if λ = ℵ ω+1 ).

Assuming that weakly compact cardinals exist, the function that assigns to each cardinal number κ the number of precomplete clones above O

(1) κ is not monotone, as it will often take the value 2 2 κ , but sometimes also the value 2.

3.3.4. Singular cardinals. Davies and Rosenberg defined in [DR85] analogues of the clones T 2 and Pol(T 2 ) on singular strong limit cardinals.

A cardinal κ is called a strong limit cardinal iff for every cardinal λ < κ also the cardinality of its power set 2 λ < κ.

Definition 21. We say that a function f defined on a product A × B is strictly canonical iff f has one of the following types:

• f is 1-1 ("type 1-1")
• f (x, y) = F (x) for some 1-1 function F ("type x") • f (x, y) = F (y) for some 1-1 function F ("type y") • f is constant ("type c")
Notation 22. For two cardinals µ, ν we write µ ≪ ν iff 2 2 2 µ < ν.

The following fact is a consequence of the Erdős-Rado theorem (see [EHMR84]):
Fact 23. Whenever µ is a cardinal, and f is a function defined on A × B, where µ + ≪ |A| = |B| then there are sets A ′ ∈ [A] µ , B ′ ∈ [B] µ such that f is strictly canonical on A ′ × B ′ .
As a corollary, we get Fact 24. Whenever |X| is a strong limit cardinal and f ∈ O (2) , then there are sets A µ , B µ ∈ [X] µ for unboundedly many cardinals µ < |X| such that each restriction f ↾(A µ × B µ ) is strictly canonical.

Moreover, we may assume that each such canonical restriction has the same type.

Definition 25. Let X be a set whose cardinality κ is a strong limit cardinal.

We say that f ∈ O (2) is rarely 1-1 if there is some µ < κ such that for all
A, B ∈ [X] µ , the function f ↾(A × B) is not 1-1. In other words, we cannot find a sequence (A µ , B µ ) µ<κ with |A µ | = |B µ | = µ such that f is 1-1 on each product A µ × B µ .
We write T 2 for the set of all rarely 1-1 functions.

Theorem 26 (Davies and Rosenberg [DR85]). Let X be a set whose cardinality is a strong limit cardinal. The clone T 2 is a binary clone containing all unary functions. If |X| is moreover singular, then Pol(T 2 ) is precomplete.

The proof uses Fact 24.

Problem H. Assume that X has singular cardinality. How many precomplete clones are there that contain all unary functions?

3.4. Precomplete clones that contain all permutations. One step further from determining the precomplete clones above O (1) is to describe all precomplete clones that contain the set S of all permutations of X. This amounts to finding all precomplete clones above O (1) , which we discussed in the preceding section, and those precomplete clones whose unary fragment is a monoid in the interval [S , O (1) ) of the monoid lattice. The latter task has been achieved for countably infinite X by Heindorf [Hei02] and for uncountable X of regular cardinality by Pinsker [Pin05a].

Theorem 27 (Heindorf [Hei02], Pinsker [Pin05a]). Let X be a set of regular cardinality. The precomplete clones which contain all permutations but not all unary functions are exactly those of the form
Pol(G ), where G ∈ {A , B, E , F } ∪ {G λ : 1 ≤ λ ≤ |X|, λ a cardinal} is one of the following submonoids of O (1) : • A = {f ∈ O (1) : |f −1 [{y}]| < |X| for all but fewer than |X| many y ∈ X} • B = {f ∈ O (1) : |f −1 [{y}]| < |X| for all y ∈ X} • E = {f ∈ O (1) : |X \ f [X]| < |X|} • F = {f ∈ O (1) : |X \ f [X]| < |X| or f is constant} • G λ = {f ∈ O (1) : |X \ f [X \ A]| ≥ λ for all A ∈ [X] λ }
This shows that there exist relatively few precomplete clones in this part of the lattice.

Corollary 28. Let X have regular cardinality ℵ α . Then the number of precomplete clones on X which contain all permutations but not all unary functions is max(|α|, ℵ 0 ).

Observe that for countably infinite X, as well as for X of weakly compact cardinality, Theorem 27 yields a complete description of the clones above S since in that case, the precomplete clones above O (1) are known; confer the preceding section. Note also that the number of precomplete clones
in [ S , O] \ [ O (1) , O]
is a monotone function of the (regular) cardinality of X, whereas the number varies in the interval [ O (1) , O]. A metamathematical explanation of this could be that the first class of clones is determined by unary operations (they are of the form Pol(G ), for a monoid G ), but the second one by binary ones (the precomplete clones are of the form Pol(H ), for H ⊆ O (2) ): In the first case we make use of the pigeonhole principle, which holds on all infinite X, but in the second case the number of precomplete clones depends on binary partition properties of |X|, which vary.

It should be noted here that despite the fact that Cl(X) need not be dually atomic, every clone that contains all permutations is contained in a precomplete one. This follows as a standard application of Zorn's lemma, because O is finitely generated over S , confer [Hei02] and [Pin05a].

We know almost nothing about Cl(X) if the cardinality of the base set is singular. In particular, the following is open.

Problem I. Generalize Theorem 27 to singular cardinals.

3.5. Symmetric precomplete clones. Clones C which contain all permutations have the property that they are symmetric, that is, for any permutation γ ∈ S the clone C γ of all conjugates of functions from C , i.e., of all operations of the form
γ −1 f (γ(x 1 ), . . . , γ(x n f )), where f ∈ C , equals C .
Such clones are interesting as they are independent of the order, or indeed any other structure that one might associate with the base set X.

Example. If X is the set of natural numbers N, then the clone of componentwise (with respect to the natural order) monotone functions is not symmetric and does not contain any non-trivial permutation. If X is the set of integers Z, then the set of monotone functions is a clone which is not symmetric, but which does contain non-trivial permutations.

Example. The clone of idempotent operations is symmetric and does not contain any non-trivial permutation.

Example. If X is countably infinite, then the clone C I induced by the ideal I as in Section 3.1 is not symmetric for any ideal I of X except when C I = O, which is only the case for the following ideals: The empty ideal, the ideal of finite subsets of X, and the ideal of all subsets of X.

Example. The clone of all operations which are either a projection or have finite range is symmetric. Also, the clones K <λ from Fact 7 are symmetric.

A natural generalization of Theorem 27 is to determine all symmetric precomplete clones. Pinsker [Pin06] proved that no new examples occur.

Theorem 29 (Pinsker [Pin06]). Let X be infinite. If C ∈ Cl(X) is symmetric and precomplete, then it contains all permutations.

It is readily verified that the symmetric clones form a complete sublattice Cl sym (X) of the clone lattice with smallest element J and largest element O. We know almost nothing about this lattice, except for what follows directly from results on Cl(X), such as the precomplete clones above the permutations. Note that Theorem 29 does not imply that all dual atoms in Cl sym contain all permutations, and in fact this is not true: The clone of all functions f ∈ O for which the set {x ∈ X : f (x, . . . , x) = x} has fewer than |X| elements is an example of a dual atom of Cl sym (X) which does not contain S . This has been pointed out in [Pin06] and is a consequence of the complete description of the interval of Cl(X) above this clone in [GSb], see Section 5.4.

Problem J. Determine the dual atoms of Cl sym (X).

We remark that whereas Cl(X) need not be dually atomic, the sublattice Cl sym is; this is a consequence of Zorn's lemma and the fact that O is finitely generated in Cl sym (X), i.e., there exist finitely many functions such that O is the only symmetric clone that contains those functions [Pin06].

It might be interesting to note that on finite X, all symmetric clones are known ( [Kho92], [Kho93], [Kho94], [Mar96b], [Mar96a], see also the survey paper [Sze04]). If X has at least five elements, then the only symmetric precomplete clone is the S lupecki-clone of all functions which are either essentially unary or take at most |X| − 1 values. In this case the clone of all idempotent functions is the only other clone which is precomplete in Cl sym (X) (but not in Cl(X), since it is properly contained in the clone of all f ∈ O for which f (a, . . . , a) = a, for any fixed a ∈ X). For |X| < 5 the situation is more complicated, see [Sze04].

3.6. The rank of clones. A possible next step after finding a precomplete clone is to try to determine its maximal subclones, which one can imagine as the clones in the second level from above (with O being at level zero and the precomplete clones being at level one). More generally, Gavrilov [Gav74] inductively defined the rank of a clone as follows: O has rank 0, and a clone C is said to be of rank n, for n ≥ 1 a natural number, iff for any function f / ∈ C the clone {f } ∪ C has rank at most n − 1, and there exists at least one function f / ∈ C such that the rank of {f } ∪ C equals n − 1. Thus, the rank of a clone C measures a kind of distance from C to O. Observe that there exist clones which do not have such a finite rank: Any countably generated clone is an example.

Theorem 30 (Gavrilov [Gav74]). Let X be countably infinite. Then for every n ≥ 1, there exist 2 2 ℵ 0 clones of rank n.

One can extend this idea and inductively define a clone C to have rank α, where α is an ordinal, iff it does not have rank β for any ordinal β < α, but every clone properly extending C does have rank β for some β < α. If it does not have rank α for any ordinal α, then we define its rank to be ∞. It is clear that there exist clones of rank ∞, since there exist clones which have infinite ascending chains above them. Also, if a clone has rank ∞, then all of its subclones have rank ∞. We remark that rank ∞ is not to be confused with a "proper" transfinite rank, such as ω.

Example. The clone T 1 of Section 3.3 has rank ω, see Theorem 34.

It might be interesting to observe that in the clone lattice of the twoelement set, every clone has a proper rank and J has rank ω + 2; moreover, for each α ≤ ω + 2 there exist only finitely many clones of rank α. If X has at least three elements, then we already have clones with rank ∞. Back to infinite X, we remark that the rank of a clone (if it is proper) must be an ordinal smaller than (2 |X| ) + (the successor cardinal of 2 |X| ).

Problem K. Let α < (2 |X| ) + . How many clones of rank α are there? What is the first α such that there are no clones of rank α?

If D ⊆ C are clones, then analogously to the usual rank of a clone, one can define the rank of D in C . So given a clone C and an ordinal α, one can ask how many subclones of C there are which have rank α in C . For α = 1, this is just the question of how many maximal proper subclones C has.

Marchenkov studied this relative rank for finite ordinals, on a countably infinite base set: Identify X with the set of natural numbers N. Call a clone C on N elementarily closed (in the sense of Skolem) iff it contains the constant function with value 1, the addition x + y, the operation x · − y := max(x − y, 0), and together with each function f (x 1 , . . . , x n , y) ∈ C also the function g(x 1 , . . . , x n , y) = y i=0 f (x 1 , . . . , x n , i). Then we have: Theorem 31 (Marchenkov [Mar81]). Let X = N, and let C be a clone of cardinality λ which is elementarily closed. Then for all finite n ≥ 1, there exist 2 λ subclones of C which have rank n in C .

Observe that this theorem implies Theorem 30; in particular, it implies that there exist 2 2 ℵ 0 precomplete clones on a countably infinite base set.


## Minimal clones

A clone is called minimal iff it is an atom in Cl(X), i.e., iff the only clone below it is the clone of projections. Clearly every minimal clone is generated by a single operation. We call operations which generate minimal clones, and which have minimal arity in the sense that no operation of smaller arity generates the same clone, minimal as well. An obvious necessary and sufficient condition for an operation f ∈ O (n) to be minimal is that all non-trivial terms which it generates have arity at least n and generate f .

Example. For every n ≥ 2, let f n ∈ S be a permutation which has only one finite cycle of length n, and which is the identity otherwise. If n is a prime number, then it is easy to see that all non-trivial iterates of f can reproduce f , so f is minimal. If n is divisible by some k with 2 ≤ k < n, then the function f k obtained by iterating f k times cannot generate f , hence f is not minimal.

On finite X, the clone lattice is atomic, which is to say that every clone (except for the clone of projections) contains a minimal clone; see e.g. the survey papers [Csá05] or [Qua95] for a proof. If X is infinite, then this is not so, as can be seen from the following simple example:

Example. Let f ∈ S be a permutation which has only infinite cycles, so if f k (where k ≥ 1) is any iterate of f , then f k (x) = x for all x ∈ X. The interval [J , {f } ] is isomorphic to the lattice of all submonoids of the monoid (N, +, 0). In particular, it is not atomic.

This example also shows in an easy way that Cl(X) does not satisfy any non-trivial lattice identity, since the submonoid lattice of (N, +, 0) does not (the latter was shown in [RK90]).

Even on finite X, despite the fact that there exist only finitely many minimal clones (see e.g. the textbook [PK79] or the surveys [Csá05] and [Qua95]), no explicit list of the minimal operations is known. Solving this problem is even more difficult on infinite X, since every minimal operation f on a finite set Y can be extended to a minimal operation on infinite X: Just observe that the operation of every algebra in the variety generated by the algebra (Y, {f }) is minimal, since minimality can be read off the equations f satisfies (that is, minimality is an abstract property, see Fact 56). It therefore suffices to take a subalgebra of a product of (Y, {f }) which has cardinality |X| to interpret f on X. Therefore, finding all minimal operations on X includes finding all minimal operations on all finite sets, and the following seems very ambitious:

Problem L. Describe the minimal clones of Cl(X). Some necessary properties for a function to be minimal have been described by Rosenberg [Ros86]: For example, it is clear that every minimal operation which depends on more than one variable must be idempotent, for otherwise it generates a non-trivial unary operation, which in turn cannot generate the original operation. Call an operation f ∈ O (n) a semiprojection iff there exists 1 ≤ k ≤ n such that f (x 1 , . . . , x n ) = x k whenever |{x 1 , . . . , x n }| < n. We say that f ∈ O (3) is a majority operation iff it satisfies the equations f (x, x, y) = f (x, y, x) = f (y, x, x) = x. The proof in [Ros86], although formulated for finite X there, works on infinite sets as well, which yields the following theorem:

Theorem 32 (Rosenberg [Ros86]). Every minimal operation is of one of the following types:

• A unary operation f which either satisfies f 2 = f or is a non-trivial permutation such that f p is the identity for some prime number p. • A binary idempotent operation.

• A ternary majority operation.

• A ternary reduct x + y + z of an elementary 2-group (X, +).

• An n-ary semiprojection (n > 2).

Pálfy [Pál86] proved the existence of a minimal operation of arity n for every 1 ≤ n ≤ |X|, for finite X; since the proof works for infinite X as well, there exist minimal operations of all arities here. The latter also follows from the fact that on finite X, every non-trivial semiprojection of arity |X| generates a minimal operation, which in turn must have arity |X| as well, and from the extension of minimal operations to infinite X as described above.

Of course, on finite X every clone has only finitely many binary operations. The following question for infinite X has been posed in slightly different form in [Csá05]:

Problem M. Does there exist a minimal clone with an infinite number of binary operations?

Machida and Rosenberg extended the notion of a minimal clone and defined an essentially minimal clone to be a clone which contains at least one operation which is not essentially unary, and whose proper subclones do not have this property. Rechecking this definition, one sees that a clone is essentially minimal iff it is an atom of a monoidal interval (see Section 5.5 for information on monoidal intervals). In [MR92], they exhibited an essentially minimal clone with an infinite number of binary operations; the unary fragment of this clone is non-trivial. In this light, Problem M is the question whether the same result can be achieved with a trivial monoid (unary fragment).


## Intervals

5.1. The interval of clones that contain all unary operations. In this section we mainly concentrate on a countable base set X, say X = N = {0, 1, . . .} (except for Theorem 34, which works on all sets of regular cardinality). Notwithstanding the fact that there are only two precomplete clones in the interval [ O (1) , O], there are several results indicating that this interval is extremely complicated. Since the clones Pol(T 1 ) and Pol(T 2 ) are the only precomplete clones in the interval, and since the interval is dually atomic, it can be written as
[ O (1) , O] = [ O (1) , Pol(T 1 )] ∪ [ O (1) , Pol(T 2 )] ∪ {O}.
Hence an analysis of this interval naturally splits into two (overlapping) areas: clones below Pol(T 1 ) and clones below Pol(T 2 ). 5.1.1. Around the binary clone T 1 . Recall that T 1 is the set of all binary functions which are almost unary. We identify our base set X with the cardinal number |X|, so that X is linearly ordered.

Definition 33. For any x = (x 1 , . . . , x k ) ∈ X k (k ≥ 2) we let σ x be any permutation of {1, . . . , k} such that x σ x (1) ≤ · · · ≤ x σ x (k) , and we write m k for the k-ary function x → x σ x (2) . Thus, m 2 (x, y) = max(x, y) and m 3 (x, y, z) is the median of x, y, z. In general, m k (x 1 , . . . , x k ) is the "second smallest" element of the k-element multiset {x 1 , . . . , x k }.

The following theorem completely describes the clones containing T 1 .

Theorem 34 (Pinsker [Pin04]). Let |X| = κ be a regular cardinal. We will consider clones on κ.

(1) Let p ∆ ∈ O (2) be a function which is 1-1 on ∆, and constantly 0 on (X × X) \ ∆. Then T 1 is generated by O (1) ∪ {p ∆ }.

(2) The median function m 3 is a ternary function in Pol(T 1 ) which is not generated by functions in T 1 . Hence T 1 Pol(T 1 ). (3) The precomplete clone Pol(T 1 ) is generated by T 1 ∪ {m 3 }.

(4) Writing T 1 (k) for the clone generated by T 1 ∪ {m k } we have
T 1 ⊆ · · · T 1 (5) T 1 (4) T 1 (3) = Pol(T 1 ) T 1 (2) = O.
(5) Every clone in the interval ( T 1 , O] is equal to one of the clones T 1 (k).

Note that this implies that the rank of each clone T 1 (k) is k − 2, and the rank of T 1 is ω.


## 5.1.2.

Around the binary clone T 2 . We now consider the base set X = N only. Recall that T 2 is the set of all functions f ∈ O (2) which are never 1-1, i.e., not 1-1 even when restricted to any set of the form (A × B) ∩ ∇ or (A × B) ∩ ∆, with infinite A and B. This definition seems to be complicated, certainly more complicated than the definition of T 1 . But there is a reason for this: The clones T 2 and Pol(T 2 ) are complicated (in the sense of Descriptive Set Theory), as we will see in this section, in particular in Theorem 36.

We will need the following facts and definitions from Descriptive Set Theory (see [Mos80], [Kec95]):

• A Polish space is a separable topological space whose topology is generated by a complete metric. Examples are R, N, the Cantor space 2 N , the Baire space N N ; finite or countable products of Polish spaces are again Polish spaces.  However, in many cases Borel sets of functions will again generate a Borel clone. This motivates the following question:

Problem N. Find a Borel subset B ⊆ O (preferably containing O (1) ) such that the clone B is not a Borel set.

Theorem 36 (Goldstern [Gol]). The clone Pol(T 2 ) (as well as the binary Menger algebra T 2 ) is a complete coanalytic set.

Contrast this with the following fact about T 1 :

Theorem 37 (Pinsker [Pin04]). Each of the sets T 1 (k), as well as the sets T 1 and T 1 , are Borel sets.

From Theorem 36 we get:
Corollary 38.
(1) Neither Pol(T 2 ) nor T 2 can be finitely or countably generated over O (1) .

(2) The intervals [ O (1) , Pol(T 2 )] and even [ O (1) , T 2 ] are uncountable.

Proof.

(1): The set O (1) ∪ C is a Borel set for any countable set C , so O (1) ∪ C is analytic, and cannot be equal to Pol(T 2 ).

(2): We can find an uncountable sequence (f α : α < ω 1 ) of functions in T 2 such that f α / ∈ C α , where C α is the (analytic!) clone generated by O (1) ∪{f γ : γ < α}. All the clones C α are different.
✉ O (1) ✉O = T 1 (2) ✉ P ol(T 2 ) ✉ T 1 ✉ T 2 ✟ ✟ ✟ ✟ ✟ ✟ ❍ ❍ ❍ ❍ ❍ ❍ ? ✉ Pol(T 1 ) = T 1 (3) ✉ T 1 (4) ✉ T 1 (5) . . .
We have seen in Theorem 34 that the interval [ T 1 , O] is completely understood. The situation is very different with the clone T 2 .

Problem O.

• Is T 2 = Pol(T 2 )? • If not, how many elements does the interval [ T 2 , Pol(T 2 )] have?

More generally, what is the lattice-theoretic structure of this interval?


## 5.1.3.

Around O (1) . We have seen in Theorem 36 that there are uncountably many clones between O (1) and T 2 . The next theorem shows that the situation is even worse:

Theorem 39 (Goldstern, Sági and Shelah [GSS]). On a countable base set X there are 2 2 ℵ 0 clones containing O (1) . In fact, there is an order-preserving embedding of the power set of R into [ O (1) , T 2 ].

However, the many clones in this theorem appear very low in the interval [ O (1) , T 2 ]. Note that for every analytic clone C ⊇ O (1) the interval [C , T 2 ] is uncountable (by an argument similar to the one in Corollary 38); this motivates the following question. Pinsker and Machida [MP] gave an explicit description of all operations which together with S generate atoms of [ S , O], for all infinite X. Moreover, they described what these atoms look like; since their theorem is quite technical, we do not state it here. As a corollary, they found that the number of atoms of [ S , O] on an infinite set of cardinality ℵ α is max{|α|, ℵ 0 }. Applying their result, one finds that the atoms of the interval for the countably infinite case are the following:

• For every n ≥ 0, the clone of all essentially unary operations whose corresponding unary operation is either a permutation or has only infinite kernel classes and exactly n elements outside its range. • The clone of all essentially unary operations whose corresponding unary operation is either a permutation or a constant. • The clone of all essentially unary operations whose corresponding unary operation is injective and either is a permutation or has an infinite complement of its range.


### The interval of unary clones that contain all permutations.

Recall that a clone is called unary iff all its operations are essentially unary. Unary clones are nothing but disguised submonoids of the full transformation monoid O (1) , since they arise from such submonoids by adding fictitious variables to the operations of the monoid. The interval [ S , O (1) ] of unary clones that contain S is therefore just the interval [S , O (1) ] of the lattice of submonoids of O (1) . Again by Zorn's lemma and the fact that O (1) is finitely generated over S , this interval is dually atomic. Its dual atoms, which we call precomplete monoids, have been described by Gavrilov for countable X and by Pinsker for all uncountable X.

Theorem 40 (Gavrilov [Gav65], Pinsker [Pin05a]). If X has regular cardinality, then the precomplete submonoids of O (1) which contain the permutations are exactly the monoid A and the monoids G λ and M λ for λ = 1 and ℵ 0 ≤ λ ≤ |X|, λ a cardinal, where
• A = {f ∈ O (1) : |f −1 [{y}]
| < |X| for all but fewer than |X| many y ∈ X}
• G λ = {f ∈ O (1) : |X \ f [X \ A]| ≥ λ for all A ∈ [X] λ } • M λ = {f ∈ O (1) : |X \ f [X]| < λ or f ↾(X \ A)
is not injective for any A ∈ [X] <λ }. If X has singular cardinality, then the same is true with the monoid A replaced by
• A ′ = {f ∈ O (1) : ∃λ < |X| ( |f −1 [{y}]
| ≤ λ for all but fewer than |X| many y ∈ X ) }.

Corollary 41. On a set X of infinite cardinality ℵ α there exist 2 |α| + 5 precomplete submonoids of O (1) that contain the permutations. Hence the smallest cardinality on which there are infinitely many such monoids is ℵ ω .

It is interesting to compare the list of precomplete clones above S in Theorem 27 with the one of precomplete monoids above S in Theorem 40: One finds that there exist precomplete submonoids of O (1) whose clone of polymorphisms is precomplete, but also precomplete monoids whose polymorphism clone is not precomplete, and non-precomplete monoids whose polymorphism clone is precomplete.

Although there exist so few dual atoms in this interval, it is huge:

Theorem 42 (Pinsker [Pin05b]). Let In the same paper, it was remarked that if GCH holds, then 2 (κ <κ ) = 2 2 κ , so in this case we have |[S , D]| = 2 2 λ on all infinite X. However, for any singular κ it is also consistent that 2 κ < 2 (κ <κ ) < 2 2 κ . Therefore, if κ is singular and ℵ κ = κ, then the intervals [S , A ′ ] and [S , D] can be smaller than 2 2 λ . In particular we have that whether or not the intervals [S , A ′ ] and, say, [S , M 1 ] are of equal cardinality depends on the set-theoretical universe.

Not only the dual atoms, but also the atoms of the interval [S , O (1) ] are known: As we have seen in the preceding section, they are just the atoms of the interval [ S , O] of the clone lattice listed in the article [MP], since all such atoms turned out to be unary. Definition 43. Let D be a filter on X, that is: D is a nonempty subset of the power set of X which is upward closed and closed under finite intersections. We allow here also the improper filter consisting of all subsets of X.

Then we define
C D := {f : (∃A ∈ D)(∀x ∈ A) f (x, . . . , x) = x}.
Observe that with this definition the clone of idempotent operations is just C {X} . The following theorem gives an example of a rather complicated interval in the clone lattice, whose structure is nevertheless "known".

Theorem 44 (Goldstern and Shelah [GSb]).

• For every filter D the set C D is a clone.

• For D = {X}, C D is the clone of all idempotent functions, and if D is the improper filter (containing ∅), then
C D = O. • For filters D 1 D 2 we have C D 1 C D 2 . • Every clone in the interval [C {X} , O] is equal to some C D .
In particular, each ultrafilter on X corresponds to a precomplete clone on X. Note that unlike the map I → C I defined in Section 3.1, the map D → C D is monotone.

We write βX for the set of ultrafilters on X. Recall that βX carries a topological structure: For each A ⊆ X the setÂ := {U ∈ βX : A ∈ U } is declared open, and these setsÂ form a basis. βX is also known as the Stone-Čech compactification of the discrete space X, see [CN74].

The filters D on X are in natural 1-1 correspondence with the closed subsets of βX through the map
D → {U : D ⊆ U }.
We thus obtain an isomorphism between the lattice of closed subsets of βX (ordered by reverse inclusion) and the lattice [C {X} , O]: The empty set corresponds to the full clone O, the points in βX correspond to the precomplete clones, and larger sets correspond to smaller clones. This correspondence, even though it is quite straightforward, is an example to show that questions about the structure of the clone lattice can sometimes be translated to questions about better known topological spaces. For example, using the following fact from topology, we can compute the rank of any clone in the interval [C {X} , O]. Ranks of clones are translated to ranks of closed subsets of βX; the rank of a closed set C is equal to α if it is not equal to any β < α, but every closed set strictly contained in C has rank < α.

The following fact is easy to prove:

Fact 45. Let X be a discrete space, and let A ⊆ βX be a closed infinite set. Then A contains a homeomorphic copy of βN.

Corollary 46. Let C ∈ [C {X} , O] be a clone.

(1) If C is the intersection C D 1 ∩ · · · ∩ C Dn , where the D i are distinct ultrafilters, then rank(C ) = n.

(2) Otherwise, rank(C ) = ∞.

Proof.

(1): The rank of any finite subset of βX is equal to its cardinality.

(2): The space βN contains a strictly decreasing sequence of closed sets: βN β(N \ {0}) · · · . 5.4.1. Intervals below sufficiently rich clones. Since we know that there are always 2 2 |X| ultrafilters on any infinite set X, Theorem 44 gives an easy proof of the Gavrilov-Rosenberg theorem from [Gav65] and [Ros76] that Cl(X) has the largest possible number of coatoms. This particular result can also be obtained from the special case C = O of Marchenkov's Theorem 49 below.


## Definition 47. For any clone
C let B(C ) := {ν(f ) : f ∈ C }, where for any function f ∈ O we define ν(f ) = {x ∈ X : f (x, . . . , x) = x}. Definition 48. The discriminator function d ∈ O (3) is defined by d(x, y, z) = x if x = y z otherwise.
Theorem 49 (Marchenkov [Mar81]). Let C be a clone such that B(C ) is a Boolean subalgebra of the power set of X, and assume d ∈ C . Then every ultrafilter U on the Boolean algebra B(C ) induces a clone , O], and has been subject to much investigation; see Section 5.1. In particular, we know that if X is countably infinite, then the cardinality of this interval equals | Cl(X)| = 2 2 ℵ 0 .
C U := {f ∈ C : ν(f ) ∈ U }
Example. The monoid S of permutations of X has a monoidal interval which consists of just one element: S = Pol(S ) (see e.g. [MP]). Monoids, and also clones, whose monoidal interval has this property are called collapsing.
✇ J ✇ Pol({π 1 1 }) ✇ M ✇ Pol(M ) ✇ O (1) ✇ O = Pol(O (1) )
Example. Those clones which contain only idempotent operations form exactly the monoidal interval induced by the trivial monoid {π 1 1 }, since Pol({π 1 1 }) is the clone of idempotent functions. One reason why monoidal intervals are interesting is that studying such an interval is in some sense "orthogonal" to studying the lattice of monoids: In the first case, we fix the monoid, and look how functions of larger arity generate each other modulo that monoid, whereas in the latter case we forget about higher arities and concentrate on unary operations only. This way, because the monoidal intervals are a partition of Cl(X), investigating the clone lattice is split into the study of monoidal intervals and the study of the monoid lattice.

There is another concept justifying the study of monoidal intervals. For two distinct clones C and D, there exists n ≥ 1 such that C (n) = D (n) . Moreover, if this is the case and k ≥ n, then also C (k) = D (k) . Therefore, one could say that C and D are closer the later their n-ary fragments start to differ. More precisely, On finite X, monoidal intervals are either finite, countably infinite, or of size continuum (first mentioned in [RS], see also the introduction of [Pin] for a proof using Descriptive Set Theory). Moreover, those possibilities are all realized: There must be monoidal intervals of size continuum for cardinality reasons, the monoidal interval corresponding to O (1) is a finite chain of length |X|+1 [Bur67], and a countably infinite monoidal interval was exposed by Krokhin [Kro97]. The question whether on infinite X monoidal intervals can have "strange" cardinalities, i.e., cardinalities strictly between |X| and 2 |X| , has recently been answered:
d(C , D) = 1 2 n−1 C = D ∧ n = min{k : C (k) = D (k) } 0 C = D
Theorem 50 (Pinsker [Pin]). There exist at least monoidal intervals of the following cardinalities:

• λ for all λ ≤ 2 |X| .

• 2 λ for all λ ≤ 2 |X| .

One might ask if not all cardinals ≤ 2 2 |X| can appear as cardinalities of monoidal intervals; but this is consistently false, by the following consequence of a theorem due to Kunen which has been pointed out by Abraham. He observed that the following conditions (a), (b), and (c) are consistent:

(a) 2 ℵ 0 = ℵ 1 (b) 2 ℵ 1 > ℵ 2 (in fact, 2 ℵ 1 can be arbitrarily large) (c) Whenever F is a family of subsets of ω 1 which is closed unter arbitrary intersections and arbitrary increasing unions, then F has either ≤ ℵ 1 elements, or ≥ 2 ℵ 1 elements.


## Now (a), (b) and (c) together imply

(d) All intervals in the clone lattice on a countably infinite base set have cardinality ≤ ℵ 1 or = 2 ℵ 1 . In particular, there is no interval of cardinality ℵ 2 .

However, this is really a remark about cardinalities of algebraic lattices, since (a), (b) and (c) together also imply (e) Every algebraic lattice with ℵ 1 compact elements has cardinality ≤ ℵ 1 or = 2 ℵ 1 . In particular, there is no algebraic lattice with ℵ 1 compact elements that has cardinality ℵ 2 . Therefore, the "right" question to ask is the following:

Problem Q. Is every algebraic lattice with at most 2 |X| compact elements equipotent to a monoidal interval of the clone lattice?

In case of a negative answer, the same can be asked about arbitrary, not necessarily monoidal intervals, which leads to the following easier variant of Problem A:

Problem R. Is every algebraic lattice with at most 2 |X| compact elements equipotent to a an interval of the clone lattice?

Theorem 50 was in fact a corollary of a result in the same paper on the possible structure of monoidal intervals:

Theorem 51 (Pinsker [Pin]). Let L be an algebraic and dually algebraic distributive lattice with at most 2 |X| completely join irreducible elements. Then there is a monoidal interval in Cl(X) isomorphic to 0 + L, which denotes L with an additional smallest element 0 added.

We remark here that the class of algebraic and dually algebraic distributive lattices is the class of completely distributive lattices, or equivalently the class of lattices of order ideals of partial orders (see e.g. [CD73,p.83] for the latter statement).

It is not surprising that the monoidal intervals of this theorem are not all possibilities: For example, it has been remarked in the same paper that the monoidal interval of idempotent clones is not modular.

Problem S. Find other classes of lattices that appear as monoidal intervals.

It could even be the case that all algebraic lattices which satisfy the only obvious restriction of not having more than 2 |X| compact elements appear as monoidal intervals.

Problem T. Is there an algebraic lattice with at most 2 |X| compact elements that is not isomorphic to a monoidal interval?


## The local clone lattice

Fix some index set I, and let R ⊆ X I be an I-ary relation, i.e., a set of I-tuples with entries in X. If f ∈ O, then we say that f preserves R iff f (r 1 , . . . , r n f ) ∈ R for all r 1 , . . . , r n f ∈ R (f (r 1 , . . . , r n f ) denotes the I-tuple that results if we apply f to the tuples r j componentwise; this notation also agrees with the "composition" notation introduced at the beginning of Section 1). We have seen this concept earlier in this paper: If I = X n for some natural number n ≥ 1, then R ⊆ X X n is just a set of n-ary operations and f preserves R iff f ∈ Pol(R). Another important case is when I is a positive natural number, and R is a finitary relation on X. On a finite base set, the operators Pol and Inv are a strong tool for describing clones, since in that case finitary relations suffice to describe all clones: If C ⊆ O is any set of operations, then C is a clone iff C = Pol Inv(C ). In other words, every clone C is determined by the finitary relations it preserves. Moreover, for any C ⊆ O, C = Pol Inv(C ). Since clones preserve fewer relations the larger they are, this method is particularly useful when describing large clones, such as precomplete ones, whereas small clones are often better described by (functional) generating systems.

If X is infinite, then not every clone is of the form Pol(R) for a set R of finitary relations, although sets of operations of this form are still clones. Rosenberg [Ros72] observed first that every clone is of the form Pol(R) for a set of infinitary relations: For example, it follows from our observations in the beginning of Section 3 that {C (1) , C (2) , . . .} is such a set for any clone C .

A clone is called locally closed or local iff it is of the form Pol(R) for some set of finitary relations R. This naming is made clearer by the following alternative definition which is easily seen to be equivalent. A clone is local iff it satisfies the following additional closure property: For every f ∈ O, if for all finite A ⊆ X there exists g ∈ C of the same arity as f which agrees with f on A, then f ∈ C . This is the same as to say that for every n ≥ 1, C (n) is closed in the product topology (Tychonoff topology) on X X n , where X is taken to be discrete. In other words, C is local iff it contains all operations that can be "locally" approximated (i.e., interpolated on every finite set) by functions from C . This generalization of the Galois connection Inv − Pol from the case where X is finite is due to Romov [Rom77].

To emphasize the distinction between clones and local clones, we may call the former global clones; that is, a global clone is just a clone which is not necessarily local. Arbitrary intersections of local clones yield local clones, and the local clones on X form a complete lattice Cl loc (X), which is not a sublattice of Cl(X): In general, the clone generated by two local clones (in Cl(X)) need not be locally closed.

Example. Let X be the set of integers Z, and let f ∈ S be the permutation that switches 0 and 1, and is the identity otherwise. Let g ∈ S be the permutation that maps every x ∈ Z to x + 1. Consider the local clones C and D locally generated by {f } and {g, g −1 }, respectively. The only nontrivial unary operation in C is f , and in D we only have the operations g k and g −k , for all k ≥ 1. Now one can verify that the join of C and D in Cl loc (X) contains S , which cannot be the case for the join in the global clone lattice Cl(X), since this join is countable but |S | = 2 ℵ 0 .

We are grateful to the referee for pointing out that Cl loc (X) is not algebraic. In fact, Cl loc (X) has no compact elements, except for the clone of all projections:

Example. Let X be infinite, and fix a linear order ≤ on X without last element. For each a ∈ X let
C a := {f ∈ O : ∀ x f ( x) ≤ a} D a := {f ∈ O : ∀ x (max( x) ≥ a ⇒ f ( x) ≥ max( x) }

## Then

(1) C a = C a ∪ { projections }. C a is a local clone.

(2) D a is the set of all functions which are essentially in D a (i.e., except for dummy variables). D a is also a local clone.

(3) If a ≤ a ′ , then C a ⊆ C a ′ and D a ⊆ D a ′ , hence every finite union of clones C a (or D a , respectively) is again a clone of this form. (4) The local closure of a D a , as well as the local closure of a C a , is the clone of all functions. (5) If f ∈ O has unbounded range, then f / ∈ a C a (unless f is a projection).

(6) If f ∈ O has bounded range, then f / ∈ a D a . (7) No local clone C (other than the clone of projections) is compact in Cl loc (X); if C contains a nontrivial unbounded function, this is witnessed by the family (C a : a ∈ X), and if C contains a bounded function this is witnessed by the family (D a : a ∈ X). We leave the proof to the reader.

Cl loc (X) is not dually atomic, an example of which was provided by Rosenberg and Schweigert [RS82], using a relational approach. They essentially anticipated the following example:

Example. For all n ≥ 2, set K n to consist of all operations on X which are either essentially unary or which take at most n values. We call f ∈ O (n) quasilinear iff there exist functions φ 0 : 2 → X and φ 1 , . . . , φ n : X → 2 such that f (x 1 , . . . , x n ) = φ 0 (φ 1 (x 1 )+ . . .+φ n (x n )), where+ denotes the sum modulo 2. We write B for the clone of all operations which are either essentially unary or quasilinear; B is often referred to as Burle's clone. Then the interval of non-trivial local clones which contain O (1) is the following countably infinite chain which ascends to O:
O (1) B K 2 K 3 . . . O
We remark that for finite X, the interval of clones above O (1) is exactly this chain, but stops at K |X| = O [Bur67]. Our example then follows easily from the latter fact and the use of local closure. As we have seen before, the interval of global clones which contain O (1) is fairly complicated, so this example supports the intuition that the local clone lattice is closer to the clone lattice on a finite base set than to the global clone lattice on an infinite base set.

This idea is also suggested by the fact that the number of local clones is 2 |X| , so in particular on countably infinite X there are as many local clones as there are clones on the three-element set. To prove that there are not more local clones, it is sufficient to see that a local clone is determined by all restrictions of its operations to finite subsets of X; for such a set of restrictions, there are not more than 2 |X| possibilities.

Unfortunately, knowledge of the dual atoms in Cl loc (X) is not sufficient for a local completeness criterion, i.e., a criterion which says when the local clone generated by an algebra equals O, since Cl loc (X) is not dually atomic. Rosenberg and Szabó [RS84] gave an example of a cofinal set in Cl loc (X), i.e., a set Θ ⊆ Cl loc (X) such that every non-trivial local clone is contained in one of the clones of Θ. An algebra is therefore locally complete (that is, it locally generates all operations) if and only if its functions are not contained in any of the clones of Θ. Of this system, some clones are dual atoms of Cl loc (X) and some are not; it does not provide a complete list of the dual atoms. There has been an improvement upon this result in [RS00].

Problem U. Find all dual atoms of Cl loc (X).

The number of dual atoms in Cl loc (X) is 2 |X| , since Pol(A) is precomplete (even in Cl(X)) for every subset A of X, and since there do not exist more local clones than that.

Goldstern and Shelah [GSb] gave examples of fairly complicated intervals in the local clone lattice:

Theorem 52 (Goldstern and Shelah [GSb]). Let S be an arbitrary semilattice on X. Then there exists a local clone C such that the interval [C , O] of the local clone lattice is isomorphic to the congruence lattice of S.

In that paper, the authors remarked that the theorem implies that there exists a local clone C such that [C , O] is antiisomorphic to the power set of the natural numbers. They also exhibited the following interval which is rather complicated, but can in some way be described.

Example. Let s be a permutation on X which has only infinite cycles, and denote the graph (as a subset of X 2 ) of s by s • . Then the interval [Pol(s • ), O] is isomorphic to the natural numbers N ordered by the divisibility relation, where 1 is the smallest and 0 is the greatest element.

Observe that this theorem is another example showing that the local clone lattice is not dually atomic.

Problem V. Which lattices embed into the lattice of local clones?

The idea of local approximation (as interpolation on small sets) can be generalized as follows: If X is uncountable and λ ≤ |X|, then one can define a clone to be λ-locally closed iff it contains all operations which can be interpolated by functions from the clone on sets of size smaller than λ. With this definition, ℵ 0 -locally closed clones are exactly the local clones. It turns out that such clones are precisely the polymorphism clones of sets of relations of arity less than λ, as has been observed in [RS82].


## Abstract clones

Definition 53. An abstract clone is a many-sorted algebra C consisting of (1) infinitely many sorts, i.e., disjoint sets C (n) , n = 1, 2, . . .;

(2) operations * n k for all n, k ∈ {1, 2, . . .}, where * n k is a map from C (k) × (C (n) ) k to C (n) (we will write f * (g 1 , . . . , g k ) for * n k (f, g 1 , . . . , g k )); (3) constants p n k ∈ C (n) , for 1 ≤ k ≤ n; and satisfying the following natural set of identities:

• f * (p n 1 , . . . , p n n ) = f for all f ∈ C (n) ; • p n i * (g 1 , . . . , g n ) = g i , whenever g 1 , . . . , g n are in the same sort; • the associativity law: Whenever -f ∈ C (k) , -g = (g 1 , . . . , g k ), where all g i ∈ C (ℓ) , -h = (h 1 , . . . , h ℓ ), where all h j ∈ C (m) , then f * g 1 * ( h), . . . , g k * ( h) = f * (g 1 , . . . , g k ) * ( h).

The clones that we have discussed in previous sections will now be called concrete clones. Clearly every concrete clone can be viewed as an abstract clone: The projections π n k are the constants p n k , and f * (g 1 , . . . , g k ) is the functional composition f (g 1 , . . . , g k ).

Notation 54. Whenever C is a concrete clone, we write C for the corresponding abstract clone (i.e., the multisorted algebra whose universe is the set C ), similarly for the pairs C 1 /C 1 , D/D, etc.

Example. Let C be the (unique) clone on a set with one element. Then in the abstract clone C, the n-th sort is a singleton with unique element p n 1 = · · · = p n n . Example. Let J be the set of projections on a set X with at least two elements. Then (independently of the base set) J is an abstract clone whose only elements are the objects p n k , which are all distinct. Example. Let (L 1 , ∨ 1 ) and (L 2 , ∨ 2 ) be two semilattices, each with at least two elements. Write C 1 and C 2 for the term clones of the respective semilattices. Then C 1 and C 2 are abstractly isomorphic, i.e., the abstract clones C 1 and C 2 are isomorphic as multisorted universal algebras.

The following folklore theorem shows that all abstract clones can be realized as concrete clones:

Theorem 55 (Cayley's theorem). Let C be an abstract clone. Then there is a set X and a concrete clone D on X such that C is isomorphic to D.

In fact, D can be chosen to be a local clone.

Proof sketch. For k ≤ n the map G n k : C (k) → C (n) , defined by G n k (f ) = f * (p n 1 , . . . , p n k ), naturally embeds C (k) into C (n) . (The map corresponds to the operation of adding dummy variables x k+1 , . . . , x n to make a k-ary function into an n-ary function.) Note that G n ℓ • G ℓ k = G n k whenever k ≤ ℓ ≤ n. Define an equivalence relation ∼ as the symmetric closure of the relation {(f, g) : ∃n, k f = G n k (g)}. Let X := C/∼. Note that every equivalence class will have representatives in all except finitely many sorts.

For each f ∈ C (n) we now define a functionf ∈ O (n)

X as follows: f (g 1 /∼, . . . , g n /∼) = f * (g 1 , . . . , g n ) /∼ whenever g 1 , . . . , g n are in the same sort. It is easy to check that this definition is proper, that D := {f : f ∈ C} is a local clone (withp n k = π n k ), and that the map f →f is an isomorphism of abstract clones.

A fundamental question in the investigation of abstract clones is the following: Which properties of a concrete clone C can be read off of its abstract version C? The examples above show that the cardinality of the base set is in general not encoded in the abstract clone, and also the question whether C is local cannot be found out by looking at C only.

However, the question about locality can become interesting when we also restrict the cardinality of the base set, as the following example shows:

Example. There is a clone C on the countable base set N such that C is not isomorphic to D, whenever D is a local clone on a countable base set.

Proof. For notational simplicity we consider binary Menger algebras instead of clones.

We claim that every (binary) concrete clone C on N containing all constant functions which is abstractly isomorphic to a local clone on N must be an analytic set (and we have already seen that there are clones on N which are not analytic). We use the fact (see Section 6) that local clones are closed (hence analytic). Assume that D is a local clone on N corresponding to the abstract clone D, and assume that ι : C → D is an isomorphism between abstract clones. For each n let c n be the unary function which is constant with value n, and let d n := ι(c n ). It is easy to see that the sets Example. Let C be a precomplete clone on a base set X. C must contain 2 |X| many binary functions. Consider the abstract clone C; Cayley's construction in Theorem 55 will find a concrete clone D on a base set Y of cardinality |Y | = 2 |X| such that C ≃ D. By a cardinality argument, D cannot be precomplete on Y .

Hence, being precomplete is not an "abstract" property, but being minimal is:

Fact 56. Let C be a minimal clone. Then every clone D with D ≃ C is also minimal.

Proof. Let C = {f } . Let Σ be a list of all equations (in the language of abstract clones, using the operations * n k and the constants p n k ) that f satisfies. Let ι : C → D be an isomorphism; then also ι(f ) will satisfy the same equations; they will witness that every function g ∈ {f } that is not a projection again generates f , and thus satisfies {g} = {f } .

Problem W. Is there an abstract clone C which is minimal such that C (2) is infinite?

Note that this problem is really a rephrasing of Problem M.

## Fact 3 .
3For any ideal I on X, C I = Pol(C (1)


• A subset Y of a Polish space is called analytic iff Y can be written as the continuous image of a closed subset of N N . All Borel sets are analytic.• The coanalytic subsets of a Polish space are exactly the complements of analytic sets.• If f : M 1 → M 2 is a continuous map between Polish spaces, then f −1 [Y ] ⊆ M 1 is analytic (coanalytic) whenever Y ⊆ M 2 is analytic (coanalytic). • In every uncountable Polish space there are analytic sets which are not coanalytic. • A coanalytic set Y ⊆ M 2 is called completely coanalytic iff: For every Polish space M 1 , every coanalytic subset Y ′ ⊆ M 1 is the preimage of Y under some continuous function f : M 1 → M 2 . A complete coanalytic set can therefore not be analytic. A central theme of Descriptive Set Theory is the investigation of the complexity of subsets of Polish spaces. Borel sets are considered relatively simple; the simplest of all are of course the closed and the open sets. Most sets of real numbers that appear in analysis are in fact Borel sets. Analytic sets are more complicated than Borel sets (similar to the difference between recursively enumerable and recursive sets), and coanalytic sets are considered to be slightly more complicated. Using a bijection from N n onto N, each set O (n) N = N N n can be naturally bijected onto N N and becomes thus a Polish space. Also O N = n≥1 O (n) Ncan be naturally bijected onto N × N N , which is itself homeomorphic to N N . We can thus apply notions from Descriptive Set Theory to sets of operations on N, and in particular measure the complexity of clones.

## Fact 35 .
35If B ⊆ O is a Borel or analytic set, then the clone B is analytic.


Problem P. Assume that C ⊇ O (1) is an analytic clone distinct from O. Does [C , T 2 ] have to have cardinality at least 2 ℵ 0 ? At least 2 2 ℵ 0 ? 5.2. The interval of clones that contain all permutations. For the case of a base set X of regular cardinality, we have seen a complete list of those dual atoms of [ S , O] which do not contain O (1) (Theorem 27). Also, we know that the interval [ S , O] is large since its subintervals [ O (1) , O] (confer the preceding section) and [ S , O (1) ] (confer the following section) are. So an interesting next question is to determine the atoms of the interval; analogously to the atoms of Cl(X), such clones are generated by a single function, which here is not a permutation. Now it is a fact that Pol(S ) = S (see e.g. [MP] for a proof), which has as a consequence that all functions f ∈ O which generate atoms in [ S , O] are essentially unary: Indeed, otherwise f / ∈ Pol(S ), and there would exist g 1 , . . . , g n f ∈ S such that the unary operation h = f (g 1 , . . . , g n f ) / ∈ S . However, then {h} ∪ S is a proper subclone of {f }∪S as it contains only essentially unary operations, in contradiction with the assumption that f together with S generates an atom of [ S , O]. Example. Any constant operation on X together with S generates an atom of [ S , O].


X have cardinality κ = ℵ α . Then there exist 2 2 λ submonoids of O (1) which contain all permutations, where λ = max{ |α|, ℵ 0 }. Moreover, if κ is regular, then |[S , G ]| = 2 2 λ for every precomplete monoid G above S ; in fact, |[S , D]| = 2 2 λ , where D is the intersection of the precomplete elements of [S , O (1) ]. If κ is singular, then |[S , G ]| = 2 2 λ for all precomplete monoids G except A ′ : If λ < κ, then |[S , A ′ ]| = |[S , D]| = 2 2 λ , but if λ = κ, then |[S , A ′ ]| = |[S , D]| = 2 (κ <κ ) (where κ <κ = sup{κ ξ : ξ < κ}).

## 5. 4 .
4The interval of clones above the idempotent clone. Consider the clone {f : ∀x f (x, . . . , x) = x}, which consists of all idempotent functions. For any subset A ⊆ X the set {f : ∀x ∈ A f (x, . . . , x) = x} is again a (larger) clone. More generally, we use the following definition:


which is a coatom in the interval [J , C ]. 5.5. Monoidal intervals. Let M ⊆ O (1) be a submonoid of the full transformation monoid O (1) . Then the set of those clones C which have M as their unary fragment (i.e., which satisfy C (1) = M ) is an interval of the clone lattice: Clearly, the smallest clone with this property is the clone M which consists of all essentially unary functions whose corresponding unary function is an element of M . The top of the interval is easily seen to be the set Pol(M ) of all functions that preserve the monoid M . Example. The monoidal interval corresponding to the full transformation monoid O (1) is just the interval [ O (1)


a metric on the clone lattice, first introduced by Machida [Mac98] (for a finite base set, but the same works on infinite sets). Formulated in this metric, a monoidal interval is just an open ball of radius 1 in the metric space (Cl(X), d). It also makes sense to consider refinements of this partition, for example open balls of radius 1 2 , or equivalently sets of clones with identical binary fragments; they are of the form [ H , Pol(H )], where H ⊆ O (2) is a binary Menger algebra.


Now we set Pol(R) ⊆ O to consist of all operations that preserve R, for an arbitrary relation R; this definition is an extension of the case where R is a set of operations. We write Pol(R) = {Pol(R) : R ∈ R} for a set of relations R. Conversely, for a set of operations F ⊆ O, we write Inv(F ) for the set of all finitary relations that are preserved by all f ∈ F .

## A
:= {(F, G) ∈ O (2) × O (2) : ∀n ∀k ∀i G(d n (i), d k (i)) = d F (n,k) (i)}as well as A ∩ (O (2) × D) are closed, and that C is just the first projection of A, hence (as the continuous image of a closed set) analytic.

Galois theory for Post algebras I. V G Bodnarčuk, L A Kalužnin, V N Kotov, B A Romov, Kibernetika (Kiev). 53RussianV. G. Bodnarčuk, L. A. Kalužnin, V. N. Kotov, and B. A. Romov. Galois theory for Post algebras I. Kibernetika (Kiev), 5(3):1-10, 1969. Russian.

Galois theory for Post algebras II. V G Bodnarčuk, L A Kalužnin, V N Kotov, B A Romov, Kibernetika (Kiev). 55RussianV. G. Bodnarčuk, L. A. Kalužnin, V. N. Kotov, and B. A. Romov. Galois theory for Post algebras II. Kibernetika (Kiev), 5(5):1-9, 1969. Russian.

Identities in lattices of closed classes. A Bulatov, Discrete Math. Appl. 36A. Bulatov. Identities in lattices of closed classes. Discrete Math. Appl., 3(6):601-609, 1993.

Finite sublattices in the lattice of clones. A Bulatov, Algebra and Logic. 335A. Bulatov. Finite sublattices in the lattice of clones. Algebra and Logic, 33(5):287-306, 1994.

Conditions satisfied by clone lattices. A Bulatov, Algebra Univers. 46A. Bulatov. Conditions satisfied by clone lattices. Algebra Univers., 46:237- 241, 2001.

Classes of k-valued logic which contain all functions of a single variable. G A Burle, Diskret. Analiz. 10RussianG. A. Burle. Classes of k-valued logic which contain all functions of a single variable. Diskret. Analiz, Novosibirsk, 10:3-7, 1967. Russian.

Algebraic theory of lattices. P Crawley, R P Dilworth, Prentice-HallP. Crawley and R. P. Dilworth. Algebraic theory of lattices. Prentice-Hall, 1973.

A class of clones on countable sets arising from ideals. G Czédli, L Heindorf, Stud. Sci. Math. Hung. 37G. Czédli and L. Heindorf. A class of clones on countable sets arising from ideals. Stud. Sci. Math. Hung., 37:419-427, 2001.

The theory of ultrafilters. Die Grundlehren der mathematischen Wissenschaften. W W Comfort, S Negrepontis, Springer-Verlag211New YorkW. W. Comfort and S. Negrepontis. The theory of ultrafilters. Die Grundlehren der mathematischen Wissenschaften, Band 211. Springer- Verlag, New York, 1974.

Minimal clones -a minicourse. B Csákány, Algebra Univers. 54B. Csákány. Minimal clones -a minicourse. Algebra Univers., 54:73-89, 2005.

Precomplete classes of operations on an uncountable set. R O Davies, I G Rosenberg, Colloq. Math. 50R. O. Davies and I. G. Rosenberg. Precomplete classes of operations on an uncountable set. Colloq. Math., 50:1-12, 1985.

Combinatorial set theory: Partition relations for cardinals. P Erdős, A Hajnal, A Maté, R Rado, North Holland Publ. Co106Amsterdamof Studies in Logic and the Foundation of MathP. Erdős, A. Hajnal, A. Maté, and R. Rado. Combinatorial set theory: Parti- tion relations for cardinals, volume 106 of Studies in Logic and the Foundation of Math. North Holland Publ. Co, Amsterdam, 1984.

Certain conditions for completeness in countable-valued logic. G P Gavrilov, Dokl. Akad. Nauk SSSR. 128RussianG. P. Gavrilov. Certain conditions for completeness in countable-valued logic. Dokl. Akad. Nauk SSSR, 128:21-24, 1959. Russian.

On functional completeness in countable-valued logic. G P Gavrilov, Problemy Kibernetiki. 15RussianG. P. Gavrilov. On functional completeness in countable-valued logic. Prob- lemy Kibernetiki, 15:5-64, 1965. Russian.

The power of the set of classes of finite height in countablevalued logic. G P Gavrilov, Problemy Kibernetiki. 29RussianG. P. Gavrilov. The power of the set of classes of finite height in countable- valued logic. Problemy Kibernetiki, 29:5-26, 1974. Russian.

Analytic clones. M Goldstern, M. Goldstern. Analytic clones. Preprint available from http://arxiv.org/math.RA/0404214.

Clones on regular cardinals. M Goldstern, S Shelah, Fund. Math. 1731M. Goldstern and S. Shelah. Clones on regular cardinals. Fund. Math., 173(1):1-20, 2002.

Clones from creatures. M Goldstern, S Shelah, Trans. Amer. Math. Soc. 3579M. Goldstern and S. Shelah. Clones from creatures. Trans. Amer. Math. Soc., 357(9):3525-3551 (electronic), 2005.

All creatures great and small. M Goldstern, S Shelah, M. Goldstern and S. Shelah. All creatures great and small. Preprint available from http://www.arxiv.org/abs/0706.1190v1.

Large intervals in the clone lattice. Algebra Univers., to appear. M Goldstern, S Shelah, M. Goldstern and S. Shelah. Large intervals in the clone lat- tice. Algebra Univers., to appear. Preprint available from http://arxiv.org/math.RA/0208066.

Many many clones above the unary clone. M Goldstern, G Sági, S Shelah, In preparationM. Goldstern, G. Sági, and S. Shelah. Many many clones above the unary clone. In preparation.

The maximal clones on countable sets that include all permutations. L Heindorf, Algebra Univers. 48L. Heindorf. The maximal clones on countable sets that include all permuta- tions. Algebra Univers., 48:209-222, 2002.

Classical descriptive set theory. A S Kechris, Graduate Texts in Mathematics. 156Springer-VerlagA. S. Kechris. Classical descriptive set theory, volume 156 of Graduate Texts in Mathematics. Springer-Verlag, New York, 1995.

On the structure of self-dual closed classes of three-valued logic P3. Nguen Van Khoa, Diskretn. Mat. 44RussianNguen Van Khoa. On the structure of self-dual closed classes of three-valued logic P3. Diskretn. Mat., 4(4):82-95, 1992. Russian.

Families of closed classes that are preserved by all automorphisms. Nguen Van Khoa, Diskretn. Mat. 54RussianNguen Van Khoa. Families of closed classes that are preserved by all auto- morphisms. Diskretn. Mat., 5(4):87-108, 1993. Russian.

Description of closed classes that are preserved by all inner automorphisms of k-valued logic. Nguen Van Khoa, Dokl. Akad. Nauk Belarusi. 383RussianNguen Van Khoa. Description of closed classes that are preserved by all inner automorphisms of k-valued logic. Dokl. Akad. Nauk Belarusi, 38(3):16-19, 1994. Russian.

On clones, transformation monoids, and associative rings. A A Krokhin, Algebra Univers. 37A. A. Krokhin. On clones, transformation monoids, and associative rings. Algebra Univers., 37:527-540, 1997.

Function algebras on finite sets: A basic course on many-valued logic and clone theory. D Lau, SpringerD. Lau. Function algebras on finite sets: A basic course on many-valued logic and clone theory. Springer Monographs in Mathematics. Springer, 2006.

The clone space as a metric space. H Machida, Acta Appl. Math. 52H. Machida. The clone space as a metric space. Acta Appl. Math., 52:297-304, 1998.

Mal'cev. Iterative algebras and post manifolds. A I , Algebra i Logika Sem. 52RussianA. I. Mal'cev. Iterative algebras and post manifolds. Algebra i Logika Sem., 5(2):5-24, 1966. Russian.

Cardinality of the set of precomplete classes in certain classes of functions of countably valued logic. S S Marchenkov, Problemy Kibernetiki. 38RussianS. S. Marchenkov. Cardinality of the set of precomplete classes in certain classes of functions of countably valued logic. Problemy Kibernetiki, 38:109- 116, 1981. Russian.

Basic relations for the S-classification of functions of multivalued logic. S S Marchenkov, Diskretn. Mat. 81RussianS. S. Marchenkov. Basic relations for the S-classification of functions of mul- tivalued logic. Diskretn. Mat., 8(1):99-128, 1996. Russian.

G-precomplete classes of many-valued logic. S S Marchenkov, Diskretn. Anal. Issled. Oper. 33RussianS. S. Marchenkov. G-precomplete classes of many-valued logic. Diskretn. Anal. Issled. Oper., 3(3):47-70, 1996. Russian.

Descriptive set theory. Y N Moschovakis, of Studies in Logic and the Foundations of Mathematics. AmsterdamNorth-Holland Publishing Co100Y. N. Moschovakis. Descriptive set theory, volume 100 of Studies in Logic and the Foundations of Mathematics. North-Holland Publishing Co., Amsterdam, 1980.

The minimal clones above the permutations. H Machida, M Pinsker, Semigroup Forum. to appear. Preprint available fromH. Machida and M. Pinsker. The minimal clones above the per- mutations. Semigroup Forum, to appear. Preprint available from http://arxiv.org/math.RA/0512367.

A "large" essentially minimal clone over an infinite set. H Machida, I G Rosenberg, Proceedings of the International Conference on Algebra. the International Conference on AlgebraAmerican Mathematical Society131H. Machida and I. G. Rosenberg. A "large" essentially minimal clone over an infinite set. In Proceedings of the International Conference on Algebra, volume 131 of Contemporary Mathematics, pages 159-167. American Mathematical Society, 1992.

The arity of minimal clones. P P Pálfy, Acta Sci. Math. (Szeged). 50P. P. Pálfy. The arity of minimal clones. Acta Sci. Math. (Szeged), 50:331-333, 1986.

Clones containing all almost unary functions. M Pinsker, Algebra Univers. 51M. Pinsker. Clones containing all almost unary functions. Algebra Univers., 51:235-255, 2004.

Maximal clones on uncountable sets that include all permutations. M Pinsker, Algebra Univers. 542M. Pinsker. Maximal clones on uncountable sets that include all permuta- tions. Algebra Univers., 54(2):129-148, 2005.

The number of unary clones containing the permutations on an infinite set. M Pinsker, Acta Sci. Math. 71M. Pinsker. The number of unary clones containing the permutations on an infinite set. Acta Sci. Math., 71:461-467, 2005.

Precomplete clones on infinite sets which are closed under conjugation. M Pinsker, Monatsh. Math. 1482M. Pinsker. Precomplete clones on infinite sets which are closed under con- jugation. Monatsh. Math., 148(2):139-152, 2006.

Algebraic lattices are complete sublattices of the clone lattice on an infinite set. M Pinsker, Fund. Math. 1951M. Pinsker. Algebraic lattices are complete sublattices of the clone lattice on an infinite set. Fund. Math., 195(1):1-10, 2007.

Monoidal intervals of clones on infinite sets. M Pinsker, Discrete Math. to appearM. Pinsker. Monoidal intervals of clones on infinite sets. Discrete Math., to appear. Preprint available from http://arxiv.org/math.RA/0509206.

Funktionen-und Relationenalgebren. VEB Deutscher Verlag der Wissenschaften. R Pöschel, L Kalužnin, R. Pöschel and L. Kalužnin. Funktionen-und Relationenalgebren. VEB Deutscher Verlag der Wissenschaften, 1979.

The two-valued iterative systems of mathematical logic. E L Post, Ann. Math. Studies. 5Princeton University PressE. L. Post. The two-valued iterative systems of mathematical logic, volume 5 of Ann. Math. Studies. Princeton University Press, 1941.

A survey of minimal clones. R Quackenbush, Aequationes Math. 50R. Quackenbush. A survey of minimal clones. Aequationes Math., 50:3-16, 1995.

Commutative semigroups the lattice of whose subsemigroups satisfies a nontrivial identity. V B Repnitskij, S I Katsman, Math. USSR-Sb. 652V. B. Repnitskij and S. I. Katsman. Commutative semigroups the lat- tice of whose subsemigroups satisfies a nontrivial identity. Math. USSR-Sb., 65(2):465-485, 1990.

Galois correspondence between iterative post algebras and relations on infinite sets. B A Romov, Cybernetics. 3B. A. Romov. Galois correspondence between iterative post algebras and relations on infinite sets. Cybernetics, 3:377-379, 1977.

Über die funktionale Vollständigkeit in den mehrwertigen Logiken. I G Rosenberg, RozpravyČeskoslovenské Akad. věd, Ser. Math. Nat. Sci. 80I. G. Rosenberg.Über die funktionale Vollständigkeit in den mehrwertigen Logiken. RozpravyČeskoslovenské Akad. věd, Ser. Math. Nat. Sci., 80:3-93, 1970.

A classification of universal algebras by infinitary relations. I G Rosenberg, Algebra Univers. 1I. G. Rosenberg. A classification of universal algebras by infinitary relations. Algebra Univers., 1:350-354, 1971/1972.

Some maximal closed classes of operations on infinite sets. I G Rosenberg, Math. Annalen. 212I. G. Rosenberg. Some maximal closed classes of operations on infinite sets. Math. Annalen, 212:157-164, 1974.

The set of maximal closed classes of operations on an infinite set A has cardinality 2 2 |A|. I G Rosenberg, Arch. Math. (Basel). 27I. G. Rosenberg. The set of maximal closed classes of operations on an infinite set A has cardinality 2 2 |A| . Arch. Math. (Basel), 27:561-568, 1976.

Minimal clones I: The five types. I G Rosenberg, Lectures in Universal Algebra (Proc. Conf. Szeged 1983). North Holland43I. G. Rosenberg. Minimal clones I: The five types. In Lectures in Universal Algebra (Proc. Conf. Szeged 1983), volume 43 of Colloq. Math. Soc. J. Bolyai, pages 405-427. North Holland, 1986.

Interval cardinality in the lattice of clones. I G Rosenberg, N Sauer, UnpublishedI. G. Rosenberg and N. Sauer. Interval cardinality in the lattice of clones. Unpublished.

. I G Rosenberg, D Schweigert, Locally maximal clones. Elektron. Informationsverarb. Kybernet. 187-8I. G. Rosenberg and D. Schweigert. Locally maximal clones. Elektron. Infor- mationsverarb. Kybernet., 18(7-8):389-401, 1982.

Local completeness I. I G Rosenberg, L Szabó, Algebra Univers. 18I. G. Rosenberg and L. Szabó. Local completeness I. Algebra Univers., 18:308- 326, 1984.

Locally maximal clones II. I G Rosenberg, D Schweigert, J. Autom. Lang. Comb. 54I. G. Rosenberg and D. Schweigert. Locally maximal clones II. J. Autom. Lang. Comb., 5(4):421-455, 2000.

Cardinal Arithmetic, volume 29 of Oxford Logic Guides. S Shelah, Oxford University PressS. Shelah. Cardinal Arithmetic, volume 29 of Oxford Logic Guides. Oxford University Press, 1994.

Sur les fonctions de plusieurs variables. W Sierpiński, Fund. Math. 33W. Sierpiński. Sur les fonctions de plusieurs variables. Fund. Math., 33:169- 173, 1945.

Kriterium pe lnosci wielowartoşciewych systemow logiki zdań. J Lupecki, C. R. Soc. Sci. Varsovie. 32J. S lupecki. Kriterium pe lnosci wielowartoşciewych systemow logiki zdań. C. R. Soc. Sci. Varsovie, 32:102-109, 1939.

A criterion of fullness of many-valued systems of propositional logic. J Lupecki, Studia Logica. 30J. S lupecki. A criterion of fullness of many-valued systems of propositional logic. Studia Logica, 30:153-157, 1972.

Clones in universal algebra. Á Szendrei, Les Presses de L'Université de MontréalÁ. Szendrei. Clones in universal algebra. Les Presses de L'Université de Montréal, 1986.

A survey of clones closed under conjugation. Á Szendrei, Galois connections and applications. DordrechtKluwer Acad. Publ565Á. Szendrei. A survey of clones closed under conjugation. In Galois connec- tions and applications, volume 565 of Math. Appl., pages 297-343. Kluwer Acad. Publ., Dordrecht, 2004.

On limit logics. S V Yablonskij, Dokl. Akad. Nauk SSSR. 118RussianS. V. Yablonskij. On limit logics. Dokl. Akad. Nauk SSSR, 118:657-660, 1958. Russian.

Some properties of enumerable closed classes from P ℵ 0. S V Yablonskij, Dokl. Akad. Nauk SSSR. 124RussianS. V. Yablonskij. Some properties of enumerable closed classes from P ℵ 0 . Dokl. Akad. Nauk SSSR, 124:990-993, 1959. Russian.

On the existence of k-valued closed classes without a finite basis. Yu I Yanov, A A Muchnik, Dokl. Akad. Nauk SSSR. 127RussianYu. I. Yanov and A. A. Muchnik. On the existence of k-valued closed classes without a finite basis. Dokl. Akad. Nauk SSSR, 127:44-46, 1959. Russian.

Wiedner Hauptstraße 8-10/104, A-1040 Wien, Austria E-mail address: goldstern@tuwien.ac. T U Algebra, Wien, Algebra, TU Wien, Wiedner Hauptstraße 8-10/104, A-1040 Wien, Austria E-mail address: goldstern@tuwien.ac.at URL: http://www.tuwien.ac.at/goldstern/

Wiedner Hauptstraße 8-10/104, A-1040 Wien, Austria E-mail address: marula@gmx. T U Algebra, Wien, Algebra, TU Wien, Wiedner Hauptstraße 8-10/104, A-1040 Wien, Austria E-mail address: marula@gmx.at URL: http://dmg.tuwien.ac.at/pinsker/